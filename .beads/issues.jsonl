{"id":"figma-versioning-09z","title":"Investigate extreme performance improvements for plugin load and version creation","description":"## Context\nQuick wins from figma-versioning-mlg are committed (parallel chunk loading, batched annotations, concurrent data collection). This issue covers deeper, more impactful optimizations discovered through Figma Plugin API research.\n\n## Critical Finding: Missing documentAccess dynamic-page\nThe manifest.json is MISSING `\"documentAccess\": \"dynamic-page\"`. Without it, Figma force-loads ALL pages in the document before the plugin can even start. For complex documents with many pages, this alone can add 20-30 seconds of blocking load time before any plugin code executes.\n\n**Fix**: Add `\"documentAccess\": \"dynamic-page\"` to manifest.json, then audit all code paths that access other pages to use `page.loadAsync()` or `figma.loadAllPagesAsync()` where needed.\n\n**Impact**: Potentially eliminates the biggest performance blocker entirely.\n\n## High-Impact Optimizations to Investigate\n\n### 1. skipInvisibleInstanceChildren (up to 100x speedup on traversals)\nSet `figma.skipInvisibleInstanceChildren = true` at plugin init. This makes findAll, findOne, and findAllWithCriteria skip invisible instance children. The API docs state findAllWithCriteria can be 'up to hundreds of times faster' with this enabled.\n\nAll tree traversals (collectAllDevStatuses, collectMetrics, collectAnnotations) would benefit.\n\n### 2. Replace manual recursion with findAllWithCriteria\nCurrent code uses manual recursive tree walks for:\n- `collectAllDevStatuses()` ‚Äî walks every node checking devStatus\n- `collectMetrics()` ‚Äî walks every node counting types\n- `collectAnnotations()` ‚Äî walks every node checking annotations\n\n`findAllWithCriteria({ types: [...] })` is a native C++ implementation that is dramatically faster than JS recursion. For metrics counting, we can use `findAllWithCriteria({ types: ['FRAME'] })`, `findAllWithCriteria({ types: ['COMPONENT', 'COMPONENT_SET'] })`, etc.\n\n### 3. Scope traversals to current page only (where possible)\n`collectAllDevStatuses()` traverses ALL pages. If we switch to dynamic-page loading, we'd need to explicitly load each page first. Consider:\n- Only scan the current page by default (fast path)\n- Offer an optional 'deep scan all pages' that loads pages incrementally\n- Cache per-page dev status snapshots so we only rescan changed pages\n\n### 4. Incremental/cached dev status snapshots\nStore the dev status snapshot in the last commit. On next version creation, only diff against changed nodes (tracked by documentchange listener) instead of full tree re-scan. The change tracking store already tracks modified nodes ‚Äî leverage this.\n\n### 5. Progressive UI for version creation\nInstead of blocking until all data is collected, emit progress events:\n- `VERSION_PROGRESS: { step: 'loading_commits', done: false }`\n- `VERSION_PROGRESS: { step: 'fetching_comments', done: false }`\n- Show a progress indicator in the UI so the user knows something is happening\n\n### 6. Lazy history loading with pagination\nInstead of loading ALL commit chunks for the histogram:\n- Load only the most recent chunk (10 commits) initially\n- Render the UI immediately with partial data\n- Load remaining chunks in the background\n- Use virtual scrolling if rendering a long list\n\n### 7. Comment caching with ETag/If-None-Match\nThe Figma REST API supports conditional requests. Cache the last comments response and use ETags to avoid re-downloading unchanged data. This turns a 100-500ms network request into a near-instant cache hit.\n\n### 8. Deduplicate loadCommits() calls\nIn CREATE_VERSION, `loadCommits()` is called once for existing commits, then again after save (`saveCommit` calls `loadCommits()` internally), then AGAIN for visualization rendering. Cache the result and invalidate only on write.\n\n## Acceptance Criteria\n- Plugin starts instantly on complex multi-page documents (no 'Loading pages' notification)\n- Tree traversals use native API methods where possible\n- Dev status collection is scoped or incremental\n- No regression in functionality","status":"open","priority":1,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-23T14:05:32.702401-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-23T15:12:03.65291-10:00","dependencies":[{"issue_id":"figma-versioning-09z","depends_on_id":"figma-versioning-mlg","type":"blocks","created_at":"2026-02-23T14:05:36.203681-10:00","created_by":"Ryan Uesato"},{"issue_id":"figma-versioning-09z","depends_on_id":"figma-versioning-ba5","type":"blocks","created_at":"2026-02-23T16:31:03.389628-10:00","created_by":"Ryan Uesato"}],"comments":[{"id":6,"issue_id":"figma-versioning-09z","author":"Ryan Uesato","text":"Bugs found after implementation","created_at":"2026-02-24T01:12:03Z"}]}
{"id":"figma-versioning-0cn","title":"Fix comments display in changelog","status":"closed","priority":1,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-01-17T23:19:34.563213-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-17T23:37:59.235563-10:00","closed_at":"2026-01-17T23:37:59.235563-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-0cn","depends_on_id":"figma-versioning-jb2","type":"blocks","created_at":"2026-01-17T23:19:37.603397-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-0ny","title":"Set up GitHub Actions release pipeline","description":"Create GitHub Actions workflow to automate releases. Pipeline should:\n- Trigger manually or on version tags\n- Build the application\n- Create GitHub releases\n- Publish release artifacts\n\nThis will enable automated releases without manual build/publish steps.","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-11T00:13:08.611671-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T00:14:41.890119-10:00","closed_at":"2026-02-11T00:14:41.890119-10:00","close_reason":"Closed"}
{"id":"figma-versioning-0og","title":"Add changelogFrameId field to Commit interface","description":"Update /packages/core/src/types.ts to add changelogFrameId field to Commit interface (line ~93). This enables navigation to frames and is used in Phase 6 histogram. Field is optional for backward compatibility.","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-15T20:50:25.599982-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-15T21:08:41.970616-10:00","closed_at":"2026-01-15T21:08:41.970616-10:00","close_reason":"Closed"}
{"id":"figma-versioning-18o","title":"Clean up verbose logging in changelog rendering","description":"Remove or reduce verbose console.log statements in the changelog frame builder and related code. Keep essential error logging but remove debug logs that were added during development. Areas to check:\n- frame-builder.ts: Annotation debug logging, comment rendering logs, commit entry logs\n- main.ts: Version creation logs, annotation collection logs\n- Other changelog-related files\n\nGoal: Keep the codebase clean while maintaining helpful error messages for debugging production issues.","status":"closed","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-11T00:05:36.606731-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T00:10:21.020325-10:00","closed_at":"2026-02-11T00:10:21.020325-10:00","close_reason":"Closed"}
{"id":"figma-versioning-1nt","title":"Refactor changelog entry design to match Figma mockup","description":"## Overview\nUpdate the Figma canvas changelog entries to match the new design from Figma mockup (node 8-577). This involves restructuring the layout, updating typography, and improving readability.\n\n## Design Reference\nFigma URL: https://www.figma.com/design/lo3m4RaUflEKapP7AftylE/ito---Design?node-id=8-577\n\n## Key Changes\n\n### 1. Header Section\n- Gray background (#efefef light / dark equivalent)\n- \"Version X.X.X\" with \"Version\" in muted color, number in primary\n- Author + timestamp on separate line\n- Title (bold, 16px) and description (regular, 13px) below\n\n### 2. Comments Section\n- Section header: \"COMMENTS\" uppercase with orange (#fa4f0b) pill badge showing count\n- Each comment shows:\n  - Author + timestamp (gray, 11px)\n  - Comment body (medium, 12px, dark)\n  - Reply context if threaded: \"Reply to: ...\" (truncated)\n  - Node reference: \"Node: X:XXX\"\n\n### 3. Annotations Section\n- Section header: \"ANNOTATIONS\" uppercase with blue (#345ccc) pill badge showing count\n- Each annotation shows:\n  - Title (semibold, 16px)\n  - Properties in columnar layout (label: value)\n  - Only show properties that have values\n  - Pin icon (üìå) for pinned items\n\n### 4. General Styling\n- White/dark card background\n- 8px rounded corners\n- Sections separated by border (#e0e0e0)\n- 24px padding for content, 32px top padding for header\n- Support both light and dark themes\n\n### 5. Click-to-Navigate\n- Add click interaction to navigate to referenced nodes\n- Comments: click to navigate to comment's node\n- Annotations: click to navigate to annotated layer\n\n## Implementation Tasks\n- [ ] Update header section layout and styling\n- [ ] Implement comments section with count badge\n- [ ] Implement annotations section with columnar properties\n- [ ] Add theme support (light/dark)\n- [ ] Add click-to-navigate functionality\n- [ ] Test with various data scenarios (many comments, few annotations, etc.)","status":"closed","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-05T17:21:17.82616-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-06T14:03:59.071476-10:00","closed_at":"2026-02-06T14:03:59.071476-10:00","close_reason":"Closed","comments":[{"id":2,"issue_id":"figma-versioning-1nt","author":"Ryan Uesato","text":"User requested to continue work","created_at":"2026-02-06T04:08:29Z"}]}
{"id":"figma-versioning-2ct","title":"Implement annotations section with columnar layout","description":"Redesign the annotations section:\n- \"ANNOTATIONS\" header with blue (#345ccc) count badge\n- Annotation title (semibold)\n- Properties in columnar layout (88px label width)\n- Only show properties with values\n- Pin icon for pinned items\n- Support light/dark themes","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-05T17:21:30.273146-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-05T17:49:23.179266-10:00","closed_at":"2026-02-05T17:49:23.179266-10:00","close_reason":"Annotations section implemented with columnar layout, blue badge, pin icons","dependencies":[{"issue_id":"figma-versioning-2ct","depends_on_id":"figma-versioning-1nt","type":"blocks","created_at":"2026-02-05T17:21:37.211585-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-2m1","title":"Update changelog rendering to properly display title and description","description":"Verify and enhance changelog rendering to show both title and description fields.\n\nCurrent state:\n- frame-builder.ts already updated to show title (16px Bold) and description (14px Regular)\n- Description is rendered conditionally (only if provided)\n\nNeed to verify:\n1. Test that title displays prominently in changelog entries\n2. Test that description shows below title when provided\n3. Test that layout works correctly when description is omitted\n4. Check spacing and visual hierarchy between title and description\n5. Verify Inter font loading works correctly for both fields\n\nIf issues found, enhance:\n- Improve visual hierarchy/contrast between title and description\n- Adjust spacing/sizing if needed\n- Consider adding visual separator if helpful\n- Test with long titles and descriptions\n\nFiles involved:\n- packages/figma-plugin/src/changelog/frame-builder.ts (already updated)\n- May need to adjust SECTION_SPACING or itemSpacing","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-15T22:21:32.18899-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-15T22:24:18.098341-10:00","closed_at":"2026-01-15T22:24:18.098341-10:00","close_reason":"Closed"}
{"id":"figma-versioning-2pg","title":"Update changelog header section","description":"Update the header section of changelog entries:\n- Gray background (#efefef light theme)\n- \"Version X.X.X\" with \"Version\" muted, number emphasized\n- Author + timestamp line\n- Title (bold) and description (regular) with proper spacing\n- Support light/dark themes","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-05T17:21:29.960023-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-05T17:49:22.871263-10:00","closed_at":"2026-02-05T17:49:22.871263-10:00","close_reason":"Header section implemented with gray background, split version styling, title/description integrated","dependencies":[{"issue_id":"figma-versioning-2pg","depends_on_id":"figma-versioning-1nt","type":"blocks","created_at":"2026-02-05T17:21:36.882617-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-2zm","title":"Investigate enhanced changelog data: page/frame/node changes and semantic grouping","description":"## Goal\nInvestigate what additional Figma page, frame, and node data we can capture and display in the changelog to provide richer context about changes.\n\n## Current State\nWe currently track:\n- **Commit-level metrics**: totalNodes, frames count, components, instances, textNodes, nodesDelta, feedbackCount\n- **Pre-commit stats** (PageChangeStats): nodesAdded/Removed/Modified per page, but NOT stored in actual commits\n- **Comments/Annotations**: Full data with nodeIds\n\n## Investigation Areas\n\n### 1. Frame-Level Changes (HIGH PRIORITY)\n**Current Gap**: We track total frame count, but not which frames changed or their names.\n\n**Questions to answer:**\n- Can we track frame names that changed between commits?\n- Can we count frames added/removed/modified per page?\n- Can we detect frame renames vs. frame replacements?\n- Can we track frame position/size changes separately from content changes?\n- Performance: How expensive is frame-level diffing on large files?\n\n**API to explore:**\n- Figma Plugin API: `figma.currentPage.findAllWithCriteria({ types: ['FRAME'] })`\n- Compare frame IDs and names between commits\n- Store frame metadata alongside commit data\n\n### 2. Page-Level Changes (HIGH PRIORITY)\n**Current Gap**: PageChangeStats exists for pre-commit UI but isn't persisted in commits.\n\n**Questions to answer:**\n- Should we persist PageChangeStats in the Commit type?\n- Can we track page additions/removals/renames?\n- Should we show \"which pages changed\" as a summary in changelog?\n- Can we detect page reordering?\n\n**Implementation ideas:**\n- Add `pageChanges: PageChangeStats[]` to Commit interface\n- Display page-level summary before frame details\n- Track page ID stability across commits\n\n### 3. Node Changes - Shallow Analysis (MEDIUM PRIORITY)\n**Current Gap**: We track total node count delta, but no categorization.\n\n**Scope**: 2-3 levels deep (Pages ‚Üí Frames ‚Üí Top-level children)\n\n**Questions to answer:**\n- Can we break down node changes by type? (e.g., \"5 text nodes, 3 rectangles, 2 groups modified\")\n- Can we detect \"deep refactoring\" (many nested changes) vs. \"surface changes\" (top-level only)?\n- Can we identify which frame had the most node changes (change hotspots)?\n- Performance: What's the cost of analyzing 2-3 levels vs. full depth?\n\n**API to explore:**\n- `node.findChildren()` for shallow traversal\n- Track node type distribution changes: `node.type` (RECTANGLE, TEXT, FRAME, etc.)\n- Compute \"deepest change level\" metric\n\n### 4. Semantic Grouping (HIGH VALUE)\n**Current Gap**: No categorization of change types.\n\n**Questions to answer:**\n- Can we detect \"Typography changes\" (text properties, font changes)?\n- Can we detect \"Color/Style changes\" (fills, strokes, effects)?\n- Can we detect \"Layout changes\" (position, size, constraints)?\n- Can we detect \"Component changes\" (new components, instance swaps)?\n- How do we combine these signals into meaningful categories?\n\n**Heuristics to explore:**\n- Typography: Changes to TextNode properties (characters, fontSize, fontName, etc.)\n- Colors: Changes to fills, strokes on any node\n- Layout: Changes to x, y, width, height, constraints\n- Components: Changes to ComponentNode or InstanceNode count/properties\n- Structural: Frame hierarchy changes, new/removed parent-child relationships\n\n**Data structure:**\n```typescript\ninterface ChangeCategory {\n  category: 'typography' | 'color' | 'layout' | 'component' | 'structural';\n  count: number;\n  affectedNodes: string[]; // node IDs\n  affectedFrames: string[]; // frame IDs\n}\n```\n\n### 5. Trend Tracking (HIGH VALUE)\n**Current Gap**: No historical trend analysis.\n\n**Questions to answer:**\n- Can we show \"file size over time\" (node count trend)?\n- Can we show \"most active pages\" over last N commits?\n- Can we show \"frame churn rate\" (frames frequently modified)?\n- Can we detect \"expansion periods\" vs. \"cleanup periods\"?\n\n**Implementation ideas:**\n- Compute trends from existing commit history (no API changes needed)\n- Add UI visualization showing trends\n- Store rolling statistics (e.g., \"last 10 commits avg node delta\")\n\n## Technical Constraints\n- **API Access**: Both REST API (with token) and Plugin API (inside Figma)\n- **Comparison Method**: Figma version history + local data stored when creating versions\n- **Performance**: Prefer shallow analysis (2-3 levels) to keep diffing fast\n- **Storage**: Consider storage size impact of additional metadata\n\n## Deliverables\n1. **Research document** summarizing API capabilities and limitations\n2. **Proposed data structures** for enhanced commit metadata\n3. **Performance analysis** of different analysis depths\n4. **Prototype code** for frame-level and semantic grouping (if feasible)\n5. **UI mockups** showing how enhanced data would display in changelog\n\n## References\n- Figma REST API: `/figma/rest-api-spec`\n- Figma Plugin API: `/websites/developers_figma`\n- Current types: `packages/core/src/types.ts` (Commit, CommitMetrics, PageChangeStats)\n- Current metrics collection: Look for where CommitMetrics is populated\n\n## Success Criteria\n- Clear understanding of what's technically possible\n- Documented tradeoffs (richness vs. performance vs. storage)\n- Actionable recommendations for Phase 1 implementation","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-10T19:08:51.824184-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-10T19:59:28.189594-10:00","closed_at":"2026-02-10T19:59:28.189594-10:00","close_reason":"Closed","comments":[{"id":3,"issue_id":"figma-versioning-2zm","author":"Ryan Uesato","text":"continuing investigation","created_at":"2026-02-11T05:52:55Z"}]}
{"id":"figma-versioning-3kl","title":"Phase 3: PAT Authentication","description":"Implement PAT onboarding, validation, secure storage, and settings management","status":"closed","priority":1,"issue_type":"epic","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:13:25.316133-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T20:01:17.81532-10:00","closed_at":"2026-01-14T20:01:17.81532-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-3kl","depends_on_id":"figma-versioning-f4k","type":"blocks","created_at":"2026-01-14T00:15:43.851823-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-3kl.1","title":"3.1 Create onboarding UI view with PAT input form","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:28.959287-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T19:43:32.561957-10:00","closed_at":"2026-01-14T19:43:32.561957-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-3kl.1","depends_on_id":"figma-versioning-3kl","type":"parent-child","created_at":"2026-01-14T00:14:28.960092-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-3kl.2","title":"3.2 Implement PAT validation via Figma REST API test call","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:29.377614-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T19:43:32.595825-10:00","closed_at":"2026-01-14T19:43:32.595825-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-3kl.2","depends_on_id":"figma-versioning-3kl","type":"parent-child","created_at":"2026-01-14T00:14:29.378402-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-3kl.3","title":"3.3 Implement secure PAT storage using figma.clientStorage","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:29.856671-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T19:43:32.631322-10:00","closed_at":"2026-01-14T19:43:32.631322-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-3kl.3","depends_on_id":"figma-versioning-3kl","type":"parent-child","created_at":"2026-01-14T00:14:29.857353-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-3kl.4","title":"3.4 Create settings view for PAT management (update/remove)","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:30.298891-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T19:44:46.909759-10:00","closed_at":"2026-01-14T19:44:46.909759-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-3kl.4","depends_on_id":"figma-versioning-3kl","type":"parent-child","created_at":"2026-01-14T00:14:30.299671-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-3kl.5","title":"3.5 Implement graceful degradation when PAT is missing","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:30.751243-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T20:01:17.594889-10:00","closed_at":"2026-01-14T20:01:17.594889-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-3kl.5","depends_on_id":"figma-versioning-3kl","type":"parent-child","created_at":"2026-01-14T00:14:30.751913-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-3pt","title":"Test annotation property display","description":"Comprehensive testing of annotation property rendering\n\nSub-tasks:\n- Test with annotations containing various property types\n- Verify rendering in Light, Dark, and FigJam themes\n- Check layout in horizontal changelog container\n- Validate memory usage doesn't increase significantly\n\nDepends on: figma-versioning-7cv\nPart of: figma-versioning-qwg","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-16T22:25:59.780069-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-17T22:38:26.932805-10:00","closed_at":"2026-01-17T22:38:26.932805-10:00","close_reason":"Created comprehensive manual testing guide in TESTING_GUIDE.md covering all sub-tasks (4.1-4.4)","dependencies":[{"issue_id":"figma-versioning-3pt","depends_on_id":"figma-versioning-7cv","type":"blocks","created_at":"2026-01-16T22:26:11.930477-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-42f","title":"Write tests for changelog rebuild logic","description":"Write unit/integration tests covering: 1) Rebuild with populated clientStorage produces correct number of frames, 2) Rebuild with empty storage is a no-op with appropriate notification, 3) Rebuild clears stale frames before re-rendering, 4) changelogFrameId references are updated correctly after rebuild, 5) Histogram is regenerated with correct data. Mock figma.clientStorage and frame creation APIs.","status":"closed","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-07T22:39:18.178052-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-08T22:13:29.562541-10:00","closed_at":"2026-02-08T22:13:29.562541-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-42f","depends_on_id":"figma-versioning-kjr","type":"blocks","created_at":"2026-02-07T22:39:30.006377-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-4fv","title":"Fix Timeline frame height: use Hug Contents in Project Activity Period","description":"In createPeriodTimeline (trend-visualization.ts), the 'Timeline' frame's height is stuck at a fixed 80px and clips its content.\n\n## Root cause\n\nIn Figma's plugin API, calling `resize()` after setting `primaryAxisSizingMode = 'AUTO'` silently reverts the height back to a fixed value. The current code (lines 394‚Äì397) does exactly this:\n\n```ts\ntimelineFrame.layoutMode = 'VERTICAL';\ntimelineFrame.primaryAxisSizingMode = 'AUTO';   // set AUTO...\ntimelineFrame.counterAxisSizingMode = 'FIXED';\ntimelineFrame.resize(contentWidth, 80);          // ...then resize overrides it back to FIXED\n```\n\n## Fix\n\nMove the `resize()` call before the sizing mode assignments so the auto mode is applied last and not overridden:\n\n```ts\ntimelineFrame.layoutMode = 'VERTICAL';\ntimelineFrame.resize(contentWidth, 80);          // set size first\ntimelineFrame.primaryAxisSizingMode = 'AUTO';   // then set auto (hugs height)\ntimelineFrame.counterAxisSizingMode = 'FIXED';\n```\n\nThis pattern applies to any other frames in trend-visualization.ts where `primaryAxisSizingMode = 'AUTO'` is set before `resize()`.","status":"closed","priority":2,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-22T23:06:51.616921-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-22T23:19:17.703086-10:00","closed_at":"2026-02-22T23:19:17.703086-10:00","close_reason":"Closed"}
{"id":"figma-versioning-4gq","title":"Phase 8: MCP Server (Post-MVP)","description":"Read-only MCP server with tools for querying changelog data from external LLMs","status":"open","priority":3,"issue_type":"epic","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:13:27.394161-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:13:27.394161-10:00","dependencies":[{"issue_id":"figma-versioning-4gq","depends_on_id":"figma-versioning-cz5","type":"blocks","created_at":"2026-01-14T00:15:44.623778-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-4gq.1","title":"8.1 Create packages/mcp-server with Node.js/TypeScript setup","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:52.260122-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:52.260122-10:00","dependencies":[{"issue_id":"figma-versioning-4gq.1","depends_on_id":"figma-versioning-4gq","type":"parent-child","created_at":"2026-01-14T00:14:52.26079-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-4gq.10","title":"8.10 Create JSON config file parser","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:55.901725-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:55.901725-10:00","dependencies":[{"issue_id":"figma-versioning-4gq.10","depends_on_id":"figma-versioning-4gq","type":"parent-child","created_at":"2026-01-14T00:14:55.902515-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-4gq.11","title":"8.11 Add environment variable configuration support","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:56.305811-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:56.305811-10:00","dependencies":[{"issue_id":"figma-versioning-4gq.11","depends_on_id":"figma-versioning-4gq","type":"parent-child","created_at":"2026-01-14T00:14:56.306544-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-4gq.12","title":"8.12 Package for npm distribution","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:56.704722-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:56.704722-10:00","dependencies":[{"issue_id":"figma-versioning-4gq.12","depends_on_id":"figma-versioning-4gq","type":"parent-child","created_at":"2026-01-14T00:14:56.705452-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-4gq.2","title":"8.2 Implement MCP SDK integration","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:52.661568-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:52.661568-10:00","dependencies":[{"issue_id":"figma-versioning-4gq.2","depends_on_id":"figma-versioning-4gq","type":"parent-child","created_at":"2026-01-14T00:14:52.66238-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-4gq.3","title":"8.3 Implement Figma REST API client for plugin data retrieval","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:53.066885-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:53.066885-10:00","dependencies":[{"issue_id":"figma-versioning-4gq.3","depends_on_id":"figma-versioning-4gq","type":"parent-child","created_at":"2026-01-14T00:14:53.067568-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-4gq.4","title":"8.4 Implement get_changelog tool","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:53.475078-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:53.475078-10:00","dependencies":[{"issue_id":"figma-versioning-4gq.4","depends_on_id":"figma-versioning-4gq","type":"parent-child","created_at":"2026-01-14T00:14:53.475974-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-4gq.5","title":"8.5 Implement get_commit tool","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:53.873481-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:53.873481-10:00","dependencies":[{"issue_id":"figma-versioning-4gq.5","depends_on_id":"figma-versioning-4gq","type":"parent-child","created_at":"2026-01-14T00:14:53.874147-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-4gq.6","title":"8.6 Implement search_changelog tool","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:54.276526-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:54.276526-10:00","dependencies":[{"issue_id":"figma-versioning-4gq.6","depends_on_id":"figma-versioning-4gq","type":"parent-child","created_at":"2026-01-14T00:14:54.277285-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-4gq.7","title":"8.7 Implement summarize_period tool with LLM integration","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:54.695271-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:54.695271-10:00","dependencies":[{"issue_id":"figma-versioning-4gq.7","depends_on_id":"figma-versioning-4gq","type":"parent-child","created_at":"2026-01-14T00:14:54.695916-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-4gq.8","title":"8.8 Implement list_files tool","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:55.099156-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:55.099156-10:00","dependencies":[{"issue_id":"figma-versioning-4gq.8","depends_on_id":"figma-versioning-4gq","type":"parent-child","created_at":"2026-01-14T00:14:55.099844-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-4gq.9","title":"8.9 Implement MCP resources (changelog, recent, commit detail)","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:55.499101-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:55.499101-10:00","dependencies":[{"issue_id":"figma-versioning-4gq.9","depends_on_id":"figma-versioning-4gq","type":"parent-child","created_at":"2026-01-14T00:14:55.502035-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-4mc","title":"Security \u0026 Vulnerability Review: Creative/Attacker Simulation Testing","description":"Simulate attacker scenarios: malicious inputs, bypass attempts, data exfiltration, and privilege escalation","status":"open","priority":3,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-11T12:23:35.813061-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T12:23:35.813061-10:00"}
{"id":"figma-versioning-4nb","title":"Add pre-commit stats display for user context","description":"## Goal\nDisplay stats and context to users before they create a commit message, showing what has changed since their last commit. This helps users write better commit messages by reminding them of all changes.\n\n## Requirements\n\n### Stats to Display\n1. **Comments \u0026 Annotations** (already tracked):\n   - Count of new comments since last commit\n   - Count of new annotations since last commit\n\n2. **Page-level Changes** (NEW):\n   - List of pages with node changes\n   - Total node count delta per page (added/removed/modified)\n   - Clickable links to navigate to each page in Figma\n\n### Tracking Approach\n**Hybrid Strategy:**\n- **Real-time tracking**: Use `figma.on('documentchange')` to track changes while plugin is open\n- **Fallback**: If plugin wasn't running, only show comments/annotations (no node change stats)\n- Store accumulated change stats in memory, reset after commit creation\n\n### Technical Approach\n\n#### 1. Real-time Change Tracking\n```typescript\n// Listen to documentchange events while plugin is open\nfigma.on('documentchange', (event: DocumentChangeEvent) =\u003e {\n  // Track changes by page\n  for (const change of event.documentChanges) {\n    const node = figma.getNodeById(change.id);\n    if (node \u0026\u0026 'parent' in node) {\n      const page = getPageForNode(node);\n      // Accumulate stats per page\n    }\n  }\n});\n```\n\n#### 2. Page Navigation\n- Use page IDs to create figma:// URLs or direct page switching\n- Format: `figma://file/${fileKey}?node-id=${pageId}`\n- Click handler: `figma.currentPage = pageNode`\n\n### API Capabilities Reference\n\n**Available from Figma API:**\n- ‚úÖ `documentchange` events (real-time only)\n- ‚úÖ Comments via REST API (already implemented)\n- ‚úÖ Annotations via Plugin API (already implemented)\n- ‚ùå Node modification timestamps (not available)\n- ‚ùå Historical change tracking without real-time listener\n\n**Data Available in documentchange:**\n```typescript\ninterface DocumentChangeEvent {\n  documentChanges: DocumentChange[]\n}\n\ntype DocumentChange = \n  | { type: 'CREATE', id: string, origin: 'LOCAL' | 'REMOTE' }\n  | { type: 'DELETE', id: string, origin: 'LOCAL' | 'REMOTE' }\n  | { type: 'PROPERTY_CHANGE', id: string, properties: string[], origin: 'LOCAL' | 'REMOTE' }\n```\n\n### UI Design\n**Location:** Display stats panel above the commit message input\n\n**Content:**\n```\nChanges since last commit:\n\nüìÑ Pages with changes:\n  ‚Ä¢ [Homepage] - 5 nodes added, 2 modified\n  ‚Ä¢ [Components] - 3 nodes modified, 1 removed\n\nüí¨ Feedback:\n  ‚Ä¢ 4 new comments\n  ‚Ä¢ 2 new annotations\n```\n\n### Implementation Phases\n\n**Phase 1: Infrastructure**\n- Set up `documentchange` listener\n- Create change tracking store (in-memory)\n- Aggregate changes by page\n\n**Phase 2: Stats Display**\n- Create UI component for stats panel\n- Display page-level change counts\n- Show comment/annotation counts (existing data)\n\n**Phase 3: Navigation**\n- Add click handlers for page names\n- Implement page navigation\n- Test deep linking\n\n### Edge Cases\n1. **Plugin not running**: Only show comments/annotations\n2. **Multiple users editing**: Track all changes regardless of origin\n3. **Large files**: Consider throttling change events if performance issues\n4. **No changes**: Show \"No changes since last commit\"\n\n### Performance Considerations\n- Use in-memory store (don't persist between sessions)\n- Throttle/debounce change event processing if needed\n- Reset stats after commit creation\n- Minimal overhead - only count changes, don't store full node data\n\n### Success Metrics\n- Users write more descriptive commit messages\n- Reduced \"forgot what I changed\" confusion\n- Fast load time (\u003c 100ms to display stats)\n- No noticeable performance impact on plugin\n\n### Out of Scope (Future)\n- Frame-level change details\n- On-demand diffing via REST API\n- Change tracking across sessions\n- Detailed property-level change breakdown","status":"closed","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-09T21:11:35.97444-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-09T21:24:24.342421-10:00","closed_at":"2026-02-09T21:24:24.342421-10:00","close_reason":"Closed"}
{"id":"figma-versioning-5x2","title":"Add histogram to changelog view in Figma canvas","description":"Add the histogram visualization from the plugin UI to the Figma canvas changelog view. The histogram in the plugin UI provides valuable insights and should be displayed directly on the Figma canvas. Replace the current changelog on the 'Changelog' page with the histogram implementation used in the plugin UI.","status":"closed","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-06T14:26:27.889391-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-06T15:22:29.361074-10:00","closed_at":"2026-02-06T15:22:29.361074-10:00","close_reason":"Implemented histogram on changelog view with square root scaling, bottom-left alignment, and 100 commits"}
{"id":"figma-versioning-5xp","title":"Fix 'figma is not defined' error when loading plugin","description":"Plugin crashes on load with 'Uncaught ReferenceError: figma is not defined'. The error occurs at an anonymous function triggered by a button click handler. This is the same class of issue fixed in commit 59f53c5 where figma object was accessed from UI context. Additional console noise includes preload resource warnings and Datadog RUM endpoint failures (ERR_NAME_NOT_RESOLVED), but the critical error is the figma reference in UI code.","status":"closed","priority":1,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-02T21:46:43.957953-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-02T21:51:54.745431-10:00","closed_at":"2026-02-02T21:51:54.745431-10:00","close_reason":"Stale build: source was already fixed in 59f53c5 but build/ui.js was not regenerated. Rebuilt plugin with 'npm run build' which eliminated the figma.fileKey reference from ui.js. Build output is gitignored so this was a local-only issue."}
{"id":"figma-versioning-67d","title":"Phase 3.2: Implement trend visualization UI","description":"## Goal\nCreate visual charts and graphs in changelog to display trend data.\n\n## Visualizations\n1. **Line chart**: File size (node count) over time\n2. **Bar chart**: Most active pages (last 10 commits)\n3. **List view**: High-churn frames (top 5)\n4. **Timeline**: Period classification (expansion/cleanup/stable)\n\n## Implementation\n1. Use Figma auto-layout frames to build charts\n2. Create reusable chart components\n3. Add to changelog page as expandable section\n4. Make interactive where possible (click to navigate)\n\n## Requirements\n- Depends on Phase 2.2 (trend analysis)\n\n## Performance\n- Rendering cost only (not in commit creation path)\n\n## Reference\n- Research: docs/enhanced-changelog-research.md, Section 5 (UI Visualization Ideas)","notes":"## ‚úÖ COMPLETED: Where to See Trend Visualization\n\n### Location\nThe Trend Insights section appears on the **Changelog page** (automatically created by the plugin), positioned below the Activity Histogram.\n\n### When It Appears\n- **After creating a new version**: Automatically renders when you commit a version\n- **After rebuilding changelog**: Appears when you rebuild the changelog from settings\n\n### What It Looks Like\n\n**üìä Trend Insights \u0026 Analytics** (Main Container)\nA comprehensive analytics section containing 4 visualization cards:\n\n1. **File Growth Over Time** (Line Chart)\n   - Visual line chart showing node count changes across commits\n   - Color-coded trend indicator:\n     * üü¢ Green = Growing (positive growth rate)\n     * üî¥ Red = Shrinking (negative growth rate)  \n     * üü° Yellow = Stable (minimal change)\n   - Stats displayed: Current nodes, Total change, Average growth rate\n   - Key points marked on timeline (first, middle, last commits)\n\n2. **Project Activity Period** (Timeline)\n   - Horizontal timeline with color-coded activity phases\n   - Color-coded badge showing overall period type:\n     * üü¢ Expansion Phase\n     * üî¥ Cleanup Phase\n     * üü° Stable Phase\n     * ‚ö™ Mixed Activity\n   - Visual breakdown bar showing % distribution\n   - Legend showing exact percentages for each phase\n\n3. **Top 5 Most Active Nodes** (Bar Chart)\n   - Horizontal bar chart showing nodes with highest activity\n   - Each bar shows:\n     * Node ID (truncated)\n     * Activity count (comments + annotations)\n     * Number of commits involved\n   - Bars scale relative to most active node\n\n4. **Top 5 High-Churn Nodes** (Ranked List)\n   - Numbered rank badges (#1, #2, etc.)\n   - Full node IDs\n   - Activity statistics (X activities ‚Ä¢ Y commits)\n\n### Technical Details\n- Built using Figma auto-layout frames (native rendering)\n- Styled with theme-aware colors (works in light/dark/figjam)\n- Updates automatically with each commit\n- Position: x=100, y=(histogram bottom + 40)\n- Default width: 800px\n- Analyzes last 10 commits by default\n\n### How to Access\n1. Open the Figma Versioning plugin\n2. Create a version OR rebuild changelog\n3. Navigate to the \"Changelog\" page in Figma\n4. Scroll down to see visualizations (histogram first, then trend insights)","status":"closed","priority":4,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-10T20:04:15.017273-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T10:34:12.337426-10:00","closed_at":"2026-02-11T10:34:12.337426-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-67d","depends_on_id":"figma-versioning-wmi","type":"blocks","created_at":"2026-02-10T20:04:32.550181-10:00","created_by":"Ryan Uesato"}],"comments":[{"id":4,"issue_id":"figma-versioning-67d","author":"Ryan Uesato","text":"Not seeing the trend visualization. Where should users see it, and what does it look like?","created_at":"2026-02-11T20:32:49Z"}]}
{"id":"figma-versioning-6bt","title":"Create changelog/index.ts public API exports","description":"Create /packages/figma-plugin/src/changelog/index.ts to export public API: renderChangelogEntry from renderer, Theme/ThemeColors types from theme. Enables clean import in main.ts. Depends on all other changelog modules.","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-15T20:50:26.009747-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-15T21:09:01.472487-10:00","closed_at":"2026-01-15T21:09:01.472487-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-6bt","depends_on_id":"figma-versioning-chw.6","type":"blocks","created_at":"2026-01-15T20:59:16.596528-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-6dw","title":"Phase 1.2: Implement frame-level change tracking","description":"## Goal\nTrack which frames changed, detect frame additions/removals/renames, and monitor layout changes.\n\n## Data Structure\nAdd `FrameChangeStats` interface:\n- frameId, frameName\n- changeType: 'added' | 'removed' | 'modified' | 'renamed'\n- nodesChanged, layoutChanged\n- previousName (if renamed)\n\nExtend `PageChangeStats` with:\n- frameChanges?: FrameChangeStats[]\n- framesAdded, framesRemoved, framesModified\n\n## Implementation\n1. Collect frame snapshots at commit time using `findAllWithCriteria({ types: ['FRAME'] })`\n2. Compare with previous commit to detect changes\n3. Store frame changes in PageChangeStats\n4. Display in changelog UI\n\n## Performance\n- Estimated: +50-100ms for 100 frames per page\n\n## Storage\n- ~2-10KB per commit (100 frames √ó 100-150 bytes)\n\n## Reference\n- Research: docs/enhanced-changelog-research.md, Section 1\n- Prototype code: Appendix Example 1","notes":"Implementation attempted but caused significant performance degradation and broke comment display in Figma UI. The frame snapshot collection and comparison was too expensive to run during document change tracking. Recommend revisiting with:\n1. Lazy/deferred frame collection (only on commit, not on every change)\n2. Lighter frame tracking approach (fewer properties tracked)\n3. Optional feature flag to disable in large files\n4. Consider moving to post-commit analysis instead of real-time tracking","status":"deferred","priority":1,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-10T20:03:40.692479-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-10T23:34:39.918008-10:00"}
{"id":"figma-versioning-74c","title":"Enhanced Changelog Data: Phased Implementation","description":"## Overview\nImplement enhanced changelog data capture based on investigation findings (figma-versioning-2zm).\n\n## Research\nSee: docs/enhanced-changelog-research.md\n\n## Active Implementation Phases\n\n### Phase 1: Quick Wins (1-2 weeks) - P1\nHigh value, low complexity features:\n- ‚úÖ Extend metrics to all pages (figma-versioning-jm2)\n- ‚úÖ Frame-level change tracking (figma-versioning-6dw)\n- ‚è∏Ô∏è DEFERRED: Node type breakdown (figma-versioning-j1a)\n\n### Phase 2: Enhanced Insights (2-3 weeks) - P2\nModerate complexity features:\n- ‚úÖ Semantic change grouping - lightweight (figma-versioning-cnw)\n- ‚úÖ Trend analysis (figma-versioning-wmi)\n\n### Phase 3: Advanced Features (DEFERRED)\nNice-to-have features (revisit after Phase 1 \u0026 2):\n- ‚è∏Ô∏è DEFERRED: Change hotspot detection (figma-versioning-dlh)\n- ‚è∏Ô∏è DEFERRED: Trend visualization UI (figma-versioning-67d)\n\n## Current Focus\nImplementing Phase 1.1, 1.2 and Phase 2 tasks first. Phase 1.3 and all Phase 3 tasks are deferred.\n\n## Success Criteria\n- Phase 1.1 and 1.2 features implemented and tested\n- Phase 2 features implemented and tested\n- Performance overhead \u003c1.5s per commit\n- Storage overhead \u003c20KB per commit\n- User-facing documentation updated\n\n## Active Child Tasks\nPhase 1:\n- figma-versioning-jm2: All-pages metrics (P1)\n- figma-versioning-6dw: Frame-level tracking (P1)\n\nPhase 2:\n- figma-versioning-cnw: Semantic grouping (P2)\n- figma-versioning-wmi: Trend analysis (P2)\n\n## Deferred Tasks (P4)\n- figma-versioning-j1a: Node type breakdown\n- figma-versioning-dlh: Hotspot detection\n- figma-versioning-67d: Trend visualization","status":"open","priority":1,"issue_type":"epic","owner":"ruesato@gmail.com","created_at":"2026-02-10T20:04:26.177616-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-10T23:36:32.949377-10:00"}
{"id":"figma-versioning-7cv","title":"Update annotation rendering to display properties","description":"Update createAnnotationItem() to render properties with labels and values\n\nSub-tasks:\n- Update createAnnotationItem() to extract properties from annotation.properties\n- Render each property with label and value vertically\n- Style property list with appropriate spacing and typography\n- Handle edge cases (missing properties, empty arrays, malformed data)\n\nDepends on: figma-versioning-hhn, figma-versioning-zks\nPart of: figma-versioning-qwg","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-16T22:25:53.523658-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-16T22:41:43.239332-10:00","closed_at":"2026-01-16T22:41:43.239332-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-7cv","depends_on_id":"figma-versioning-hhn","type":"blocks","created_at":"2026-01-16T22:26:11.613189-10:00","created_by":"Ryan Uesato"},{"issue_id":"figma-versioning-7cv","depends_on_id":"figma-versioning-zks","type":"blocks","created_at":"2026-01-16T22:26:11.787764-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-837","title":"Fix histogram tooltip positioning to stay within plugin window","description":"## Problem\nTooltips on the Recent Activity histogram sometimes fall outside the plugin window, making them unreadable. This happens when:\n\n1. Hovering over histogram bars on the left edge - tooltip's left side gets cut off\n2. Hovering over histogram bars on the right edge - tooltip's right side gets cut off\n3. For tall histograms, the tooltip may appear above the viewport\n\n## Expected Behavior\nTooltips should always be fully visible within the plugin window, regardless of which bar is hovered.\n\n## Requirements\n- Detect when tooltip would render outside viewport bounds\n- Dynamically adjust tooltip position (horizontal flip, vertical flip, or both) to stay within bounds\n- Maintain tooltip's relationship to the hovered bar (still clear which bar it's associated with)\n- Preserve current tooltip styling and content\n\n## Technical Context\n- Current implementation: `packages/figma-plugin/src/components/HistogramPanel.tsx`\n- Tooltip is positioned using `fixed` positioning with `transform: translate(-50%, -100%)`\n- X/Y position is calculated from `event.currentTarget.getBoundingClientRect()`\n- Plugin window dimensions available via `window.innerWidth` / `window.innerHeight`","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-06T14:14:15.729766-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-06T14:18:58.138772-10:00","closed_at":"2026-02-06T14:18:58.138772-10:00","close_reason":"Implemented tooltip positioning logic to keep tooltips within plugin window bounds"}
{"id":"figma-versioning-8td","title":"Update Settings view to match Figma design","description":"Update the Settings view to match the new Figma designs.\n\n**Design References:**\n- Default view (no PAT): https://www.figma.com/design/lo3m4RaUflEKapP7AftylE/ito---Design?node-id=19-734\u0026t=ckwtjzPBAgwE2fy2-11\n- With Personal Access Token: https://www.figma.com/design/lo3m4RaUflEKapP7AftylE/ito---Design?node-id=19-865\u0026t=ckwtjzPBAgwE2fy2-11\n\n**Implementation Tasks:**\n- Review current Settings view implementation\n- Compare with Figma designs for both states (default and with PAT)\n- Update UI components, layout, and styling to match design spec\n- Ensure proper state management for PAT presence\n- Test both UI states (with and without PAT)","status":"closed","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-09T18:23:11.887561-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-09T18:28:00.297476-10:00","closed_at":"2026-02-09T18:28:00.297476-10:00","close_reason":"Closed"}
{"id":"figma-versioning-8up","title":"Fix: sharedPluginData backup exceeds 100kB entry limit","description":"## Error\n\nSeen in Figma console when saving a new commit:\n\n```\n[Storage] ‚ö† Failed to save backup to sharedPluginData: Error: in setSharedPluginData:\nThis pluginData entry exceeds 100 kB per entry limit.\n  at DocumentNode.setSharedPluginData (...)\n  at Et (PLUGIN_18_SOURCE:2:26050)\n```\n\nThe error fires twice per commit save ‚Äî once in `saveCommit` and once in a second call path (likely the migration backfill).\n\n## Root Cause\n\nIn `packages/figma-plugin/src/main.ts`, `saveCommit()` (line 767‚Äì774) writes **all commits** as a single `sharedPluginData` entry under `SHARED_PLUGIN_COMMITS_KEY`:\n\n```ts\nfigma.root.setSharedPluginData(\n  SHARED_PLUGIN_NAMESPACE,\n  SHARED_PLUGIN_COMMITS_KEY,\n  JSON.stringify(serializedCommits)   // all commits, unbounded\n);\n```\n\nFigma enforces a **100kB max per `setSharedPluginData` key**. As the changelog accumulates commits (each with annotations, comments, diffs, etc.), the JSON payload eventually crosses this threshold.\n\nThe same pattern appears in the one-time migration backfill around line 636 (`migrateCommitsToSharedPluginData`), which also writes all commits to a single key.\n\n## Current error is non-fatal\n\nThe `catch` block at line 775-777 logs a warning and continues (clientStorage write already succeeded), so the error doesn't break the commit flow. However:\n- The sharedPluginData backup becomes stale/missing after this point\n- The migration backfill silently fails for large changelogs\n- Restoring from backup (`loadCommits` fallback at line 679) will silently fail for users who lost clientStorage\n\n## Fix Options\n\n### Option A: Chunk sharedPluginData backup (mirrors clientStorage chunking)\nSplit the backup across multiple keys: `commits_backup_0`, `commits_backup_1`, etc.\n- Pros: preserves full backup\n- Cons: adds complexity; restore logic must iterate chunks\n\n### Option B: Cap backup to most recent N commits\nOnly write the last 20‚Äì30 commits to sharedPluginData (under the size limit).\n- Pros: simple, cheap\n- Cons: older commits not backed up\n\n### Option C: Drop sharedPluginData backup\nRemove the dual-write entirely; clientStorage is the primary storage and is already chunked.\n- Pros: simplest\n- Cons: loses disaster recovery for clientStorage wipes\n\n### Option D: Compress before writing\nUse a compression library (e.g., lz-string) to compress JSON before writing.\n- Cons: adds a dependency; still bounded by 100kB compressed\n\n**Recommended: Option A or B** ‚Äî chunking mirrors existing clientStorage pattern; capping is simpler.\n\n## Files to Modify\n\n- `packages/figma-plugin/src/main.ts`\n  - `saveCommit()` (~line 767): fix single-key sharedPluginData write\n  - `migrateCommitsToSharedPluginData()` (~line 592): fix migration backfill\n  - `loadCommits()` (~line 679): fix restore logic if chunk keys change\n\n## Investigation Steps\n\n1. Measure how many commits / what payload size triggers the limit\n2. Pick fix option (A or B recommended)\n3. Update `saveCommit`, migration, and restore paths consistently\n4. Add test coverage for storage with \u003e100kB commit payload","status":"closed","priority":1,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-25T09:26:10.569291-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-25T10:25:53.624092-10:00","closed_at":"2026-02-25T10:25:53.624092-10:00","close_reason":"Switched to pragmatic approach: cap sharedPluginData backup to last 15 commits instead of attempting unbounded chunking. Guarantees \u003c100kB while preserving recent commit disaster recovery. clientStorage remains the primary storage with full chunking."}
{"id":"figma-versioning-9g8","title":"Reverse direction of histogram - latest commits on left, oldest on right","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-06T14:00:10.36876-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-06T14:11:00.91016-10:00","closed_at":"2026-02-06T14:11:00.91016-10:00","close_reason":"Removed .reverse() calls from histogram.ts and HistogramPanel.tsx to reverse histogram direction. Histogram now displays commits in chronological order (oldest on left, newest on right)."}
{"id":"figma-versioning-9ta","title":"Improve comment thread rendering to show reply hierarchy","description":"Update changelog canvas rendering to differentiate initial comments from replies.\n\nCurrent state: All comments in a thread are rendered the same way\n\nDesired state: \n- Identify if a comment is a reply vs. initial comment\n- Render replies with context: \"Reply to: [original comment truncated to 1 line]\"\n- Maintain visual hierarchy to show thread structure\n\nInvestigation needed:\n- Check Figma API response structure for comment threads/replies\n- Determine if reply relationship data is available\n- Design visual treatment for reply comments","notes":"IMPLEMENTATION COMPLETE:\n\nChanges made:\n1. Updated Comment type to include 'id' and 'parentId' fields\n2. Updated fetchComments() to capture comment IDs and parent relationships from Figma API\n3. Updated commentFingerprint() to use comment ID as primary key (more reliable)\n4. Updated createCommentItem() to accept parent comment text and display reply context\n5. Updated createCommentsSection() to organize comments into threads\n\nHow it works:\n- Figma API provides parent_id field on comments (if present, comment is a reply)\n- Figma supports one-level threading only (replies to root comments, not replies to replies)\n- Root comments are rendered normally\n- Reply comments are indented and show: 'Reply to: [parent comment truncated to 1 line]'\n- Comments are organized into threads: root comment followed by all its replies\n\nThreading structure:\n- Comments with no parentId are root comments\n- Comments with parentId are replies\n- Replies are rendered indented with parent context\n- Parent text is truncated to ~60 characters for display","status":"closed","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-06T23:16:03.866201-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-06T23:26:18.638087-10:00","closed_at":"2026-02-06T23:26:18.638087-10:00","close_reason":"Implemented comment thread rendering with reply hierarchy. Replies now show 'Reply to: [parent comment]' context with indentation. Uses Figma API parent_id field to organize comments into threads."}
{"id":"figma-versioning-a5c","title":"Security \u0026 Vulnerability Review: Error Handling \u0026 Edge Cases","description":"Review error handling, edge cases, and potential security vulnerabilities in failure modes","status":"open","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-11T12:23:35.068861-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T12:23:35.068861-10:00"}
{"id":"figma-versioning-ads","title":"Add clickable page links to 'Pages Changed' section in canvas changelog","description":"## Goal\nMake page names in the 'Pages Changed' section of changelog entries clickable links that navigate to the respective page.\n\n## Current State\nPage names are displayed as plain text in the changelog UI under 'Pages Changed'.\n\n## Implementation\n1. Find where page names are rendered in the changelog UI\n2. Convert page names to clickable links using Figma's navigateTo() API\n3. Link should navigate to the corresponding page when clicked\n4. Maintain visual styling consistent with the changelog design\n\n## Expected Outcome\nUsers can click on any page name in the 'Pages Changed' section to jump directly to that page in Figma.","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-10T22:12:59.08267-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-10T22:15:18.758556-10:00","closed_at":"2026-02-10T22:15:18.758556-10:00","close_reason":"Closed"}
{"id":"figma-versioning-ba5","title":"Bug: Plugin fails on enterprise Figma Desktop with namespace and documentchange errors","description":"## Problem\nAfter implementing performance optimizations (figma-versioning-09z), the plugin fails on enterprise Figma Desktop with two errors on startup:\n\n1. **Invalid namespace in getSharedPluginData**: The namespace can only consist of alphanumeric characters, _ or .\n   - Caused by SHARED_PLUGIN_NAMESPACE = figma-versioning (hyphen is invalid)\n   - Fix applied: changed to figma_versioning but fix may not be reaching the remote build\n\n2. **documentchange handler in incremental mode**: Cannot register documentchange handler in incremental mode without calling figma.loadAllPagesAsync first\n   - Caused by adding documentAccess: dynamic-page to manifest.json without properly awaiting loadAllPagesAsync before figma.on(documentchange, ...)\n   - Fix applied: wrapped in async IIFE with await figma.loadAllPagesAsync() ‚Äî works locally but NOT on remote enterprise Figma Desktop\n\n## Key observations\n- Both fixes work on local dev machine but NOT on remote computer running enterprise Figma Desktop\n- The namespace error appearing remotely proves the fixed code is NOT being loaded ‚Äî old code with figma-versioning (hyphen) is still running\n- No published version of the plugin exists. Only dev builds are being used\n- Remote console shows 401 errors for Figma internal API calls (/api/plugins, /api/widgets, /api/actions_history) which may be enterprise-specific behavior\n- Error stack traces reference PLUGIN_5_SOURCE (remote) vs PLUGIN_258_SOURCE (local) ‚Äî different plugin session IDs\n- Remote uses jsvm-cpp.wasm.br WASM-based JS VM ‚Äî may handle async differently than local runtime\n\n## Investigation needed\n1. Verify dev builds: Confirm the beta zip (v1.0.4-beta.1) actually contains the fixed code. Check dist/main.js for figma_versioning (underscore) and loadAllPagesAsync placement\n2. Enterprise Figma differences: Research whether enterprise Figma Desktop has different plugin sandbox behavior, WASM runtime, or caching that could cause old code to load\n3. Build pipeline verification: Ensure pnpm build output in dist/ is what gets zipped and released ‚Äî no stale artifacts\n4. async IIFE in WASM sandbox: Even if build is correct, the async IIFE pattern may not work in enterprise Figma WASM plugin sandbox. Consider alternatives: .then() chain, removing dynamic-page from manifest, or deferring documentchange registration to after first UI message\n\n## Reproduces\n- Remote: Enterprise Figma Desktop ‚Äî YES (both errors)\n- Local: Standard Figma Desktop ‚Äî NO (fixes work)\n\n## Related\n- Performance optimizations: figma-versioning-09z (reopened)\n- Fix commit: abf13ea\n- Beta release: v1.0.4-beta.1","notes":"NEW FINDING: Downloaded and inspected the v1.0.4-beta.1 zip from GitHub. The source fix is correct (main.ts has figma_versioning), and the CURRENT local dist has 0 instances of figma-versioning. BUT the beta zip on GitHub has 1 remaining instance of figma-versioning (hyphen) at byte offset 56120: _=\"figma-versioning\" ‚Äî this IS the SHARED_PLUGIN_NAMESPACE constant. The beta zip was created from a stale build that did not include the fix. This confirms the remote computer IS running the beta zip, but the beta itself was bad.\n\nAlso from the latest error log (v1.0.4-beta.1 after removing old version and restarting):\n- New errors: Unrecognized feature: local-network-access, plus permissions policy violations for camera, microphone, clipboard-write, display-capture ‚Äî these are likely enterprise Figma security policies\n- Both original errors persist: namespace error at PLUGIN_3_SOURCE:2:24706, documentchange error at PLUGIN_3_SOURCE:2:28196\n- Same character positions as before, confirming same (unfixed) code is running\n\nNext steps: Need to rebuild, verify the dist output contains the fix, then create v1.0.4-beta.2 with the verified build.","status":"closed","priority":1,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-23T16:30:50.672955-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-25T08:13:46.806012-10:00","closed_at":"2026-02-25T08:13:46.806012-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-ba5","depends_on_id":"figma-versioning-t8c","type":"blocks","created_at":"2026-02-24T00:59:26.555747-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-bpb","title":"Backfill existing clientStorage commits to sharedPluginData","description":"Phase 2: Add a one-time migration that runs on plugin startup. If clientStorage has commits but sharedPluginData is empty, copy the commit data to sharedPluginData. This ensures existing users get the redundant backup without needing to recreate versions. Should only run once (track via a migration flag in clientStorage or sharedPluginData).","status":"closed","priority":4,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-07T22:39:25.584985-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-08T22:23:28.185487-10:00","closed_at":"2026-02-08T22:23:28.185487-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-bpb","depends_on_id":"figma-versioning-ivw","type":"blocks","created_at":"2026-02-07T22:39:30.378586-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-cc3","title":"Design review: Update Pages Changed section to card style","description":"Update the Pages Changed section rendering to use a card-style layout with gray background (#efefef), 16px padding, and 8px border-radius.\n\n## Changes from previous spec:\n- Pages Changed section should be rendered as a card/pill with gray background\n- Maintain 16px padding and 8px border-radius\n- Keep purple badge (#9966e5) with page count\n- All typography and spacing for page entries remain unchanged\n\n## Testing:\n- Verify card styling matches Figma design (node 8:577)\n- Confirm all page entry information displays correctly\n- Check badge count displays accurately","status":"in_progress","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-25T11:05:36.910953-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-25T11:05:55.635442-10:00"}
{"id":"figma-versioning-chw","title":"Phase 5: Changelog Rendering","description":"Generate Changelog page with commit entry frames, theme-aware styling, and layout management","status":"closed","priority":1,"issue_type":"epic","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:13:26.139353-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-15T21:08:05.070069-10:00","closed_at":"2026-01-15T21:08:05.070069-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-chw","depends_on_id":"figma-versioning-m47","type":"blocks","created_at":"2026-01-14T00:15:44.056198-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-chw.1","title":"5.1 Implement Changelog page creation/detection","description":"Create /packages/figma-plugin/src/changelog/page-manager.ts with functions to find/create Changelog page. Strategy: find by exact name match 'Changelog', create if not found. Handles edge cases: recreates if user deletes/renames. ~0.5KB bundle size.","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:42.024892-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-15T21:03:12.001374-10:00","closed_at":"2026-01-15T21:03:12.001374-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-chw.1","depends_on_id":"figma-versioning-chw","type":"parent-child","created_at":"2026-01-14T00:14:42.028147-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-chw.2","title":"5.2 Create commit entry frame generator with auto-layout","description":"Create /packages/figma-plugin/src/changelog/frame-builder.ts with createCommitEntryFrame() function. Build nested auto-layout frames (600px width, auto height). Sections: Header, Message, Comments (conditional), Annotations (conditional). Lock all frames with frame.locked = true. Load Inter font. ~2KB bundle. Depends on theme.ts.","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:42.437709-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-15T21:05:12.395059-10:00","closed_at":"2026-01-15T21:05:12.395059-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-chw.2","depends_on_id":"figma-versioning-chw","type":"parent-child","created_at":"2026-01-14T00:14:42.438476-10:00","created_by":"Ryan Uesato"},{"issue_id":"figma-versioning-chw.2","depends_on_id":"figma-versioning-chw.3","type":"blocks","created_at":"2026-01-15T20:59:13.805019-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-chw.3","title":"5.3 Implement theme-aware styling (Light/Dark/FigJam detection)","description":"Create /packages/figma-plugin/src/changelog/theme.ts with detectTheme() function and getThemeColors() for Light/Dark/FigJam themes. Detect FigJam via figma.editorType, default to Light for regular Figma. Define RGB color palettes for each theme. ~0.3KB bundle size.","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:42.843184-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-15T21:04:06.788391-10:00","closed_at":"2026-01-15T21:04:06.788391-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-chw.3","depends_on_id":"figma-versioning-chw","type":"parent-child","created_at":"2026-01-14T00:14:42.844151-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-chw.4","title":"5.4 Implement comment section rendering within entry frames","description":"Internal function in frame-builder.ts: createCommentsSection(). Returns null if no comments, otherwise renders comment frames with author, timestamp, text, nodeId. Lock all frames. Test with 0, 1, and many comments.","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:43.269669-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-15T21:06:00.48034-10:00","closed_at":"2026-01-15T21:06:00.48034-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-chw.4","depends_on_id":"figma-versioning-chw","type":"parent-child","created_at":"2026-01-14T00:14:43.270382-10:00","created_by":"Ryan Uesato"},{"issue_id":"figma-versioning-chw.4","depends_on_id":"figma-versioning-chw.2","type":"blocks","created_at":"2026-01-15T20:59:14.293297-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-chw.5","title":"5.5 Implement annotation section rendering within entry frames","description":"Internal function in frame-builder.ts: createAnnotationsSection(). Returns null if no annotations, otherwise renders annotation frames with label and nodeId reference. Lock all frames. Test with 0, 1, and many annotations.","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:43.715523-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-15T21:06:38.083942-10:00","closed_at":"2026-01-15T21:06:38.083942-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-chw.5","depends_on_id":"figma-versioning-chw","type":"parent-child","created_at":"2026-01-14T00:14:43.716238-10:00","created_by":"Ryan Uesato"},{"issue_id":"figma-versioning-chw.5","depends_on_id":"figma-versioning-chw.2","type":"blocks","created_at":"2026-01-15T20:59:14.818858-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-chw.6","title":"5.6 Implement reverse chronological layout management","description":"Create /packages/figma-plugin/src/changelog/renderer.ts with renderChangelogEntry() and getOrCreateContainerFrame(). Insert entries at top (reverse chronological) via container.insertChild(0). Container: VERTICAL layout, 32px gaps, locked, positioned at x=100 y=400. ~0.8KB bundle. Depends on page-manager, frame-builder, theme.","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:44.111853-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-15T21:07:12.4447-10:00","closed_at":"2026-01-15T21:07:12.4447-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-chw.6","depends_on_id":"figma-versioning-chw","type":"parent-child","created_at":"2026-01-14T00:14:44.112571-10:00","created_by":"Ryan Uesato"},{"issue_id":"figma-versioning-chw.6","depends_on_id":"figma-versioning-chw.1","type":"blocks","created_at":"2026-01-15T20:59:15.339626-10:00","created_by":"Ryan Uesato"},{"issue_id":"figma-versioning-chw.6","depends_on_id":"figma-versioning-chw.2","type":"blocks","created_at":"2026-01-15T20:59:15.490294-10:00","created_by":"Ryan Uesato"},{"issue_id":"figma-versioning-chw.6","depends_on_id":"figma-versioning-chw.3","type":"blocks","created_at":"2026-01-15T20:59:15.63786-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-chw.7","title":"5.7 Implement viewport navigation to new entries","description":"Part of renderer.ts in renderChangelogEntry(). After inserting frame: switch to Changelog page, scroll viewport to entry, select frame for visual feedback. User sees result before plugin closes (1s delay).","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:44.543125-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-15T21:07:52.526793-10:00","closed_at":"2026-01-15T21:07:52.526793-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-chw.7","depends_on_id":"figma-versioning-chw","type":"parent-child","created_at":"2026-01-14T00:14:44.544737-10:00","created_by":"Ryan Uesato"},{"issue_id":"figma-versioning-chw.7","depends_on_id":"figma-versioning-chw.6","type":"blocks","created_at":"2026-01-15T20:59:16.108945-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-cnw","title":"Phase 2.1: Implement semantic change grouping (lightweight)","description":"## Goal\nCategorize changes by semantic type: typography, color, layout, component, content.\n\n## Data Structure\nAdd `SemanticChangeGroup` interface:\n- category: 'typography' | 'color' | 'layout' | 'component' | 'structural' | 'content'\n- count, affectedNodes, affectedFrames\n- examples (sample node names)\n\nAdd to `Commit`:\n- semanticGroups?: SemanticChangeGroup[]\n\n## Implementation\n1. Detect change categories using heuristics:\n   - Typography: TextNode font/size/style changes\n   - Color: fills/strokes changes\n   - Layout: position/size/constraints changes\n   - Component: Component/Instance changes\n   - Content: TextNode characters changes\n2. Use property-delta tracking (NOT full node snapshots)\n3. Store in commit data\n4. Display in changelog UI with color-coded badges\n\n## Performance\n- Estimated: +100-300ms per commit\n\n## Storage\n- ~1-3KB per commit (5 categories √ó 200-600 bytes)\n\n## Notes\n- Avoid full node snapshots (50-200KB overhead)\n- Use lightweight heuristics, not deep property comparison\n\n## Reference\n- Research: docs/enhanced-changelog-research.md, Section 4\n- Prototype code: Appendix Example 3","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-10T20:03:54.960427-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-10T23:52:08.524267-10:00","closed_at":"2026-02-10T23:52:08.524267-10:00","close_reason":"Closed"}
{"id":"figma-versioning-cz5","title":"Phase 2: Core Package","description":"Define shared TypeScript interfaces (Commit, CommitMetrics, Comment, Annotation) and utilities (search, prompts)","status":"closed","priority":1,"issue_type":"epic","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:13:24.908873-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T19:31:23.249872-10:00","closed_at":"2026-01-14T19:31:23.249872-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-cz5","depends_on_id":"figma-versioning-f4k","type":"blocks","created_at":"2026-01-14T00:15:43.744121-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-cz5.1","title":"2.1 Define Commit interface with all fields (id, version, message, author, timestamp, etc.)","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:26.930254-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T12:54:56.021204-10:00","closed_at":"2026-01-14T12:54:56.021204-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-cz5.1","depends_on_id":"figma-versioning-cz5","type":"parent-child","created_at":"2026-01-14T00:14:26.930964-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-cz5.2","title":"2.2 Define CommitMetrics interface for activity tracking","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:27.325754-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T12:54:56.056515-10:00","closed_at":"2026-01-14T12:54:56.056515-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-cz5.2","depends_on_id":"figma-versioning-cz5","type":"parent-child","created_at":"2026-01-14T00:14:27.326722-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-cz5.3","title":"2.3 Define Comment and Annotation interfaces","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:27.72398-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T12:54:56.091703-10:00","closed_at":"2026-01-14T12:54:56.091703-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-cz5.3","depends_on_id":"figma-versioning-cz5","type":"parent-child","created_at":"2026-01-14T00:14:27.724642-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-cz5.4","title":"2.4 Implement keyword search utility for changelog queries","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:28.12573-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T12:57:55.053938-10:00","closed_at":"2026-01-14T12:57:55.053938-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-cz5.4","depends_on_id":"figma-versioning-cz5","type":"parent-child","created_at":"2026-01-14T00:14:28.126412-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-cz5.5","title":"2.5 Create LLM prompt templates for summaries and queries","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:28.515806-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T19:31:23.106294-10:00","closed_at":"2026-01-14T19:31:23.106294-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-cz5.5","depends_on_id":"figma-versioning-cz5","type":"parent-child","created_at":"2026-01-14T00:14:28.516649-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-d3w","title":"Fix changelog diff inconsistencies - use timestamp-based filtering for comments","description":"Problem: Changelog entries show inconsistent diffs. If previous entry has 0 comments/annotations, next entry includes ALL elements from beginning of file.\n\nRoot Cause: filterNewComments and filterNewAnnotations use fingerprint matching against previous commit elements. When previous commit is empty, ALL elements match as new.\n\nSolution: \n1. Comments: Use timestamp-based filtering (comment.created_at \u003e previousCommit.timestamp) - REST API provides created_at but NOT modified_at\n2. Annotations: Keep fingerprint-based filtering (no timestamps in Plugin API), add edge case handling for 0-entry commits\n3. Allow empty commits with correct filtering\n\nTechnical Approach:\n- Modify filterNewComments() to use timestamp comparison instead of fingerprints\n- For annotations: Keep fingerprints, add special handling when previous commit has empty array to prevent reappearing all historical annotations\n- May need to track global annotation fingerprints across all commits, or determine if 0-entry is first commit vs subsequent\n\nFiles to Modify:\n- packages/figma-plugin/src/main.ts - filterNewComments(), filterNewAnnotations() functions","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-03T00:46:30.405289-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-03T09:39:13.506173-10:00","closed_at":"2026-02-03T09:39:13.506173-10:00","close_reason":"Closed","comments":[{"id":1,"issue_id":"figma-versioning-d3w","author":"Ryan Uesato","text":"Implemented timestamp-based filtering for comments and all-history filtering for annotations. Changes committed in 86d992b.","created_at":"2026-02-03T19:13:58Z"}]}
{"id":"figma-versioning-di9","title":"Refactor build directory structure for consistency","description":"Current build structure:\n- packages/figma-plugin/build/ contains Figma plugin bundle\n- packages/core/dist/ contains TypeScript compiled library\n\nProblem: Inconsistent naming (build vs dist) makes maintenance harder and adds cognitive overhead for developers.\n\nProposed solution: Standardize on dist/ across all packages (most common convention). Rename packages/figma-plugin/build/ to dist/ and update build configurations.\n\nResearch findings: Figma Plugin Boilerplate uses dist/, most npm packages use dist/ for compiled output. @create-figma-plugin/build supports custom output directories.\n\nTasks:\n- Update package.json build configuration in figma-plugin\n- Update build scripts and configuration\n- Review .gitignore patterns\n- Update documentation if needed","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-04T23:58:49.274504-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-05T00:10:39.18051-10:00","closed_at":"2026-02-05T00:10:39.18051-10:00","close_reason":"Closed"}
{"id":"figma-versioning-dlh","title":"Phase 3.1: Add change hotspot detection","description":"## Goal\nAutomatically identify and highlight frames/pages with high change activity (hotspots).\n\n## Implementation\n1. Mark top 10% of frames by change volume as hotspots\n2. Add `isHotspot` flag to FrameChangeStats\n3. Highlight hotspots in changelog UI with visual indicator\n4. Provide drill-down to see what changed in hotspot areas\n\n## Requirements\n- Depends on Phase 1.2 (frame-level tracking)\n\n## Performance\n- Minimal overhead (sorting + flagging)\n\n## Storage\n- 1 boolean flag per frame change\n\n## Reference\n- Research: docs/enhanced-changelog-research.md, Section 3 (Change Hotspot Detection)","notes":"DEFERRED: Skipping for now, will revisit after Phase 1 and 2 complete","status":"open","priority":4,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-10T20:04:10.17192-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-10T20:06:15.450528-10:00","dependencies":[{"issue_id":"figma-versioning-dlh","depends_on_id":"figma-versioning-6dw","type":"blocks","created_at":"2026-02-10T20:04:31.490596-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-dr7","title":"Bug: Changelog rebuild creates duplicate entries","description":"After rebuild, almost every commit appears twice in the changelog. The rebuild is not clearing old entries properly or is rendering entries twice.","notes":"Progress: Duplicates fixed, but now seeing:\n1. Missing commit entries (not all showing)\n2. Migration errors: 'Invalid timestamp for commit X: [object Object]'\n   - Timestamps are being stored as objects instead of primitives\n   - Migration code converting them to current time (losing original timestamp)\nNeed to fix timestamp serialization/deserialization.","status":"closed","priority":0,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-07T23:19:02.755139-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-07T23:42:27.048372-10:00","closed_at":"2026-02-07T23:42:27.048372-10:00","close_reason":"Fixed with explicit JSON serialization to convert Date objects to ISO strings"}
{"id":"figma-versioning-e7h","title":"Implement comments section with styling","description":"Redesign the comments section:\n- \"COMMENTS\" header with orange (#fa4f0b) count badge\n- Comment items with author, timestamp, body, node reference\n- Add \"Reply to:\" for threaded comments (new feature)\n- Truncate long reply previews\n- Support light/dark themes","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-05T17:21:30.11593-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-05T17:49:23.024523-10:00","closed_at":"2026-02-05T17:49:23.024523-10:00","close_reason":"Comments section implemented with uppercase header, orange badge, threading support","dependencies":[{"issue_id":"figma-versioning-e7h","depends_on_id":"figma-versioning-1nt","type":"blocks","created_at":"2026-02-05T17:21:37.047062-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-ea0","title":"Only show new/updated annotations and comments in changelog entries","description":"Currently, each new version's changelog entry includes ALL annotations and comments from the file, including ones already shown in previous entries. Instead, each changelog entry should only show items that are new or updated since the last version was created. This requires tracking timestamps of annotations/comments and comparing against the previous version's timestamp.","status":"closed","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-02T22:00:04.635823-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-02T22:14:19.785506-10:00","closed_at":"2026-02-02T22:14:19.785506-10:00","close_reason":"Implemented comment timestamp filtering and annotation fingerprint deduplication"}
{"id":"figma-versioning-ebm","title":"Fix blank spaces in plugin UI","description":"The plugin UI has several blank spaces that need to be fixed:\n\n1. 'Recent Activity' area is completely blank\n2. There is excessive blank space at the bottom of the plugin with unnecessary scrollable area\n\nThese UI issues are visible in the screenshots (not available in this session due to model limitations).","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-03T09:41:24.918261-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-03T17:26:26.20276-10:00","closed_at":"2026-02-03T17:26:26.20276-10:00","close_reason":"Closed","labels":["bug","priority:p2","ui"]}
{"id":"figma-versioning-ee3","title":"Integrate changelog rendering into main.ts CREATE_VERSION handler","description":"Update /packages/figma-plugin/src/main.ts CREATE_VERSION handler (lines 433-496). Import renderChangelogEntry, call after saveCommit, update commit with frameId, re-save. Add try/catch: succeed commit even if render fails. Delay close 1s to show result. Depends on changelog modules + types.ts.","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-15T20:50:26.453971-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-15T21:09:50.831488-10:00","closed_at":"2026-01-15T21:09:50.831488-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-ee3","depends_on_id":"figma-versioning-0og","type":"blocks","created_at":"2026-01-15T20:59:17.093989-10:00","created_by":"Ryan Uesato"},{"issue_id":"figma-versioning-ee3","depends_on_id":"figma-versioning-6bt","type":"blocks","created_at":"2026-01-15T20:59:17.241713-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-egc","title":"Comments not appearing in Figma canvas changelog","description":"New annotations are rendered in changelog entries on Figma canvas, but comments are not appearing. When inspecting the rendered changelog's layers, there is no Comments container nor any individual comment layers visible.\n\nComments are fetched from Figma API but are not being rendered in the createCommitEntryFrame function.","notes":"ROOT CAUSE IDENTIFIED AND FIXED:\n\nThe issue was caused by clock skew between client time (new Date()) and Figma server time (comment created_at). The code was using timestamp-based filtering which failed when:\n- User creates Version A at client time 10:00:00\n- User creates comment at client time 10:00:05\n- Figma server saves comment with server timestamp 9:59:58 (2s behind)\n- User creates Version B\n- filterNewComments() filters out comment because 9:59:58 is NOT \u003e 10:00:00\n\nFIX IMPLEMENTED:\nRestored fingerprint-based deduplication (matching author|text|nodeId) instead of timestamp comparison. This approach:\n1. Avoids clock skew issues entirely\n2. Matches the proven approach used for annotations\n3. Was originally implemented in commit 5091517 but mistakenly reverted\n\nThe fix compares comment content (author|text|nodeId fingerprint) against ALL previous comments from ALL commits, ensuring duplicates are filtered out without timing issues.","status":"closed","priority":2,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-06T15:24:23.082842-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-06T22:40:54.777633-10:00","closed_at":"2026-02-06T22:40:54.777633-10:00","close_reason":"Fixed by restoring fingerprint-based comment deduplication. Clock skew between client and Figma server no longer affects comment filtering. Comments now use same proven approach as annotations (author|text|nodeId fingerprinting)."}
{"id":"figma-versioning-et2","title":"Update histogram appearance to match Figma design","description":"Update the histogram component rendered on the Figma canvas (NOT the plugin UI histogram) to match the design at node-id=19-733.\n\n## Design Specifications\n\n### Colors (need tokens for light/dark themes)\n- Primary text: #eee (title)\n- Secondary text: #ccc (legend labels, footer)\n- Feedback bar: #0885fe (blue)\n- Nodes Changed bar: #ff6800 (orange)\n- Background: dark theme as shown\n\n### Layout\n- Title: 'Recent activity' - bold, 14px, Inter\n- Legend: Two items with 12√ó12px colored squares, 6px gap, 11px labels\n  - Feedback (blue)\n  - Nodes Changed (orange)\n- Bars:\n  - Width: 8px\n  - Gap between bars: 4px\n  - Border radius: 2px\n  - Heights: variable based on activity data\n- Footer: 'Last 79 commits. Select a bar to view its changelog entry.' - 12px\n\n### Requirements\n1. Create color tokens that work with both Figma light and dark themes\n2. Update histogram component rendered on Figma canvas to use new design specs\n3. Ensure bars are clickable to view changelog entries\n4. Match exact spacing and typography from Figma design\n5. This affects the canvas rendering code, NOT the plugin UI code","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-09T18:00:19.565368-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-09T18:10:34.90712-10:00","closed_at":"2026-02-09T18:10:34.90712-10:00","close_reason":"Closed"}
{"id":"figma-versioning-f0l","title":"Security \u0026 Vulnerability Review: PAT Storage \u0026 Handling","description":"Review Personal Access Token (PAT) storage, encryption, and API transmission security","status":"open","priority":0,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-11T12:23:26.540432-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T12:23:26.540432-10:00"}
{"id":"figma-versioning-f4k","title":"Phase 1: Project Setup","description":"Initialize pnpm monorepo, core package, figma-plugin scaffold, TailwindCSS, and shared configs","status":"closed","priority":1,"issue_type":"epic","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:13:24.489133-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T12:07:47.028109-10:00","closed_at":"2026-01-14T12:07:47.028109-10:00","close_reason":"Closed"}
{"id":"figma-versioning-f4k.1","title":"1.1 Initialize pnpm monorepo with workspace configuration","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:24.875968-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T10:24:03.908405-10:00","closed_at":"2026-01-14T10:24:03.908405-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-f4k.1","depends_on_id":"figma-versioning-f4k","type":"parent-child","created_at":"2026-01-14T00:14:24.87691-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-f4k.2","title":"1.2 Create packages/core with TypeScript setup","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:25.27258-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T10:42:09.978483-10:00","closed_at":"2026-01-14T10:42:09.978483-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-f4k.2","depends_on_id":"figma-versioning-f4k","type":"parent-child","created_at":"2026-01-14T00:14:25.27338-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-f4k.3","title":"1.3 Create packages/figma-plugin using create-figma-plugin scaffold","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:25.677651-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T11:09:43.705608-10:00","closed_at":"2026-01-14T11:09:43.705608-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-f4k.3","depends_on_id":"figma-versioning-f4k","type":"parent-child","created_at":"2026-01-14T00:14:25.678513-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-f4k.4","title":"1.4 Configure TailwindCSS for plugin UI","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:26.092762-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T11:50:37.80619-10:00","closed_at":"2026-01-14T11:50:37.80619-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-f4k.4","depends_on_id":"figma-versioning-f4k","type":"parent-child","created_at":"2026-01-14T00:14:26.093632-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-f4k.5","title":"1.5 Set up shared TypeScript config and ESLint rules","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:26.50649-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T12:06:55.607497-10:00","closed_at":"2026-01-14T12:06:55.607497-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-f4k.5","depends_on_id":"figma-versioning-f4k","type":"parent-child","created_at":"2026-01-14T00:14:26.507371-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-flq","title":"Security \u0026 Vulnerability Review: Dependency Security","description":"Review npm/pnpm dependencies for vulnerabilities, outdated packages, and security best practices","status":"open","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-11T12:23:34.071565-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T12:23:34.071565-10:00"}
{"id":"figma-versioning-flw","title":"Security \u0026 Vulnerability Review: Input Validation \u0026 Sanitization","description":"Review all user inputs for proper validation, sanitization, and XSS prevention","status":"open","priority":1,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-11T12:23:32.245769-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T12:23:32.245769-10:00"}
{"id":"figma-versioning-hbr","title":"Make page and layer names in 'Top 5 High-Churn Layers' section link to their appropriate page and layer on Figma canvas","status":"closed","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-25T09:11:59.466117-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-25T09:42:44.612615-10:00","closed_at":"2026-02-25T09:42:44.612615-10:00","close_reason":"Closed"}
{"id":"figma-versioning-hfe","title":"New comments not appearing in latest changelog entry after filtering","description":"Annotation filtering works correctly (new annotations appear), but new comments are not showing up in changelog entries. The timestamp-based comment filtering in fetchComments(since) may have an issue with Date comparison - likely the timestamp from the previous commit is being compared incorrectly against comment created_at dates.","status":"closed","priority":2,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-02T22:23:10.800197-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-02T22:33:58.103578-10:00","closed_at":"2026-02-02T22:33:58.103578-10:00","close_reason":"Replaced timestamp-based filtering with fingerprint-based dedup for comments, matching the annotation approach. Avoids client/server clock skew."}
{"id":"figma-versioning-hhn","title":"Property label mapping utility","description":"Create utility to convert API property names to human-readable labels\n\nSub-tasks:\n- Create utility function to convert API property names to human-readable labels\n- Define mapping for all annotation property types (layout, visual, typography, spacing, grid, component)\n- Add tests for property name conversion\n\nPart of: figma-versioning-qwg","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-16T22:25:40.087244-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-16T22:35:35.300896-10:00","closed_at":"2026-01-16T22:35:35.300896-10:00","close_reason":"Closed"}
{"id":"figma-versioning-hk9","title":"Security \u0026 Vulnerability Review: Logging \u0026 Information Disclosure","description":"Review console logging practices and potential information disclosure vulnerabilities","status":"open","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-11T12:23:33.578384-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T12:23:33.578384-10:00"}
{"id":"figma-versioning-ivw","title":"Add sharedPluginData dual-write on commit save","description":"Phase 2: When saveCommit() writes to clientStorage, also write a backup copy to figma.root.setSharedPluginData(). Use a namespace like 'figma-versioning' and key like 'commits_backup'. Store the full commit array as JSON. This makes commit data survive clientStorage clears since sharedPluginData lives in the Figma file itself and is accessible to all collaborators.","status":"closed","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-07T22:39:21.651082-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-08T22:17:42.697104-10:00","closed_at":"2026-02-08T22:17:42.697104-10:00","close_reason":"Closed"}
{"id":"figma-versioning-j1a","title":"Phase 1.3: Add node type breakdown for changes","description":"## Goal\nBreak down node changes by type (e.g., '5 text nodes, 3 rectangles, 2 groups modified').\n\n## Data Structure\nAdd `NodeTypeBreakdown` interface:\n- type: NodeType\n- added, removed, modified counts\n\nExtend `PageChangeStats` with:\n- nodeTypeChanges?: NodeTypeBreakdown[]\n\n## Implementation\n1. Categorize nodes in changeTrackingStore by type\n2. Group into high-level categories: Shapes, Text, Frames, Groups, Media, Other\n3. Store breakdown in PageChangeStats\n4. Display in changelog UI\n\n## Performance\n- Estimated: +20-50ms for 100 changed nodes\n\n## Storage\n- ~0.5-1KB per commit (10-20 categories √ó 50 bytes)\n\n## Reference\n- Research: docs/enhanced-changelog-research.md, Section 3\n- Prototype code: Appendix Example 2","notes":"DEFERRED: Skipping for now, focusing on Phase 1.1 and 1.2 first","status":"open","priority":4,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-10T20:03:45.532394-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-10T20:06:14.540449-10:00"}
{"id":"figma-versioning-j1q","title":"Update Trend Insights panel UI to match Figma design","description":"Update the Trend Insights \u0026 Analytics panel rendering (trend-visualization.ts) to match the Figma reference design at https://www.figma.com/design/lo3m4RaUflEKapP7AftylE/ito---Design?node-id=145-364\n\nKey differences from current implementation:\n\n1. CONTAINER LAYOUT\n   - Add 16px gap between sections (currently 0 with section self-padding)\n   - Background: #333 (dark theme)\n\n2. SECTION BORDERS\n   - File Growth and Project Activity sections have 1px bottom border (#444)\n   - High-Churn section has NO bottom border (last section)\n   - Currently all sections manage their own borders via createSection\n\n3. PERIOD BADGE STYLING\n   - Figma uses dark semi-transparent background: rgba(6,6,6,0.4)\n   - Text color is #ccc (light gray) regardless of period type\n   - Current code tints badge background with period color at 0.2 opacity\n\n4. AVG RATE VALUE COLOR\n   - Figma shows AVG RATE value in #ccc (same as CURRENT and CHANGE values)\n   - Current code uses textSecondary color for AVG RATE\n\n5. HIGH-CHURN LAYER NAME ‚Äî SPLIT TEXT STYLING\n   - Figma uses split styling: 'Page name /' in #979797 (secondary) + layer name in #ccc Bold\n   - Current code renders entire name as a single Medium-weight text node\n   - Requires creating a mixed-style text node or separate text nodes in a horizontal frame\n\n6. LEGEND TEXT COLOR\n   - Legend labels use #979797 (textMuted/secondary)\n   - Verify current code matches\n\n7. SECTION TITLE COLORS\n   - File Growth title: #c0c0c0\n   - Project Activity / High-Churn titles: #ccc\n   - Currently uses a single color for all titles\n\nFigma reference node: 145:364","status":"closed","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-25T01:07:26.064857-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-25T08:28:12.956534-10:00","closed_at":"2026-02-25T08:28:12.956534-10:00","close_reason":"Closed"}
{"id":"figma-versioning-j7r","title":"Phase 6: Activity Histogram","description":"Render activity histograms on changelog page and plugin UI with interactive navigation","status":"closed","priority":1,"issue_type":"epic","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:13:26.553974-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-16T10:23:28.051778-10:00","closed_at":"2026-01-16T10:23:28.051778-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-j7r","depends_on_id":"figma-versioning-chw","type":"blocks","created_at":"2026-01-14T00:15:44.157693-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-j7r.1","title":"6.1 Implement histogram data calculation from commit metrics","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:44.95932-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-16T10:19:06.799377-10:00","closed_at":"2026-01-16T10:19:06.799377-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-j7r.1","depends_on_id":"figma-versioning-j7r","type":"parent-child","created_at":"2026-01-14T00:14:44.960212-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-j7r.2","title":"6.2 Create Figma frame-based histogram renderer for Changelog page","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:45.3764-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-16T10:20:22.210424-10:00","closed_at":"2026-01-16T10:20:22.210424-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-j7r.2","depends_on_id":"figma-versioning-j7r","type":"parent-child","created_at":"2026-01-14T00:14:45.377081-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-j7r.3","title":"6.3 Implement clickable bar navigation (bar to commit entry)","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:45.778194-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-16T10:21:07.383854-10:00","closed_at":"2026-01-16T10:21:07.383854-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-j7r.3","depends_on_id":"figma-versioning-j7r","type":"parent-child","created_at":"2026-01-14T00:14:45.779003-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-j7r.4","title":"6.4 Create Preact histogram component for plugin UI","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:46.178782-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-16T10:23:07.168953-10:00","closed_at":"2026-01-16T10:23:07.168953-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-j7r.4","depends_on_id":"figma-versioning-j7r","type":"parent-child","created_at":"2026-01-14T00:14:46.179464-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-j7r.5","title":"6.5 Implement hover tooltips for commit preview","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:46.631691-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-16T10:23:07.202624-10:00","closed_at":"2026-01-16T10:23:07.202624-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-j7r.5","depends_on_id":"figma-versioning-j7r","type":"parent-child","created_at":"2026-01-14T00:14:46.632371-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-j7r.6","title":"6.6 Implement horizontal scrolling for large histories","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:47.027943-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-16T10:23:07.234328-10:00","closed_at":"2026-01-16T10:23:07.234328-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-j7r.6","depends_on_id":"figma-versioning-j7r","type":"parent-child","created_at":"2026-01-14T00:14:47.028616-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-j7r.7","title":"6.7 Add legend rendering for histogram colors","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:47.466692-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-16T10:21:07.417796-10:00","closed_at":"2026-01-16T10:21:07.417796-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-j7r.7","depends_on_id":"figma-versioning-j7r","type":"parent-child","created_at":"2026-01-14T00:14:47.467357-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-jb2","title":"Diagnose why comments aren't appearing in changelog","status":"closed","priority":0,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-01-17T23:19:34.280028-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-17T23:23:03.082071-10:00","closed_at":"2026-01-17T23:23:03.082071-10:00","close_reason":"Closed"}
{"id":"figma-versioning-jm2","title":"Phase 1.1: Extend metrics collection to all pages (not just current page)","description":"## Goal\nModify collectMetrics() to analyze all pages in the document, not just the current page, for accurate total node counts.\n\n## Current State\n- collectMetrics() only counts nodes on figma.currentPage (main.ts:476-481)\n- Results in incomplete metrics when users are on different pages\n\n## Implementation\n1. Iterate through all pages: `figma.root.children.filter(n =\u003e n.type === 'PAGE')`\n2. Accumulate metrics across all pages\n3. Maintain same metric structure (totalNodes, frames, components, instances, textNodes)\n\n## Performance\n- Estimated: +200-300ms for 10 pages with 1000 nodes each\n- Acceptable overhead for more accurate data\n\n## Reference\n- Research: docs/enhanced-changelog-research.md, Section 2\n- Current code: packages/figma-plugin/src/main.ts:467-487","status":"closed","priority":1,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-10T20:03:33.83748-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-10T21:20:42.336323-10:00","closed_at":"2026-02-10T21:20:42.336323-10:00","close_reason":"Closed"}
{"id":"figma-versioning-jm3","title":"Phase 7: LLM Integration (Post-MVP)","description":"Optional AI features: endpoint configuration, weekly/monthly summaries, natural language queries","status":"open","priority":3,"issue_type":"epic","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:13:26.977388-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:13:26.977388-10:00","dependencies":[{"issue_id":"figma-versioning-jm3","depends_on_id":"figma-versioning-cz5","type":"blocks","created_at":"2026-01-14T00:15:44.521488-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-jm3.1","title":"7.1 Create LLM configuration UI in settings","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:49.739643-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:49.739643-10:00","dependencies":[{"issue_id":"figma-versioning-jm3.1","depends_on_id":"figma-versioning-jm3","type":"parent-child","created_at":"2026-01-14T00:14:49.740484-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-jm3.2","title":"7.2 Implement Claude API-compatible request handler","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:50.153157-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:50.153157-10:00","dependencies":[{"issue_id":"figma-versioning-jm3.2","depends_on_id":"figma-versioning-jm3","type":"parent-child","created_at":"2026-01-14T00:14:50.154006-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-jm3.3","title":"7.3 Implement weekly summary generation","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:50.561138-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:50.561138-10:00","dependencies":[{"issue_id":"figma-versioning-jm3.3","depends_on_id":"figma-versioning-jm3","type":"parent-child","created_at":"2026-01-14T00:14:50.561918-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-jm3.4","title":"7.4 Implement monthly summary generation","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:50.971321-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:50.971321-10:00","dependencies":[{"issue_id":"figma-versioning-jm3.4","depends_on_id":"figma-versioning-jm3","type":"parent-child","created_at":"2026-01-14T00:14:50.971994-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-jm3.5","title":"7.5 Implement natural language query with keyword pre-filtering","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:51.374633-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:51.374633-10:00","dependencies":[{"issue_id":"figma-versioning-jm3.5","depends_on_id":"figma-versioning-jm3","type":"parent-child","created_at":"2026-01-14T00:14:51.375461-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-jm3.6","title":"7.6 Add error handling for LLM failures","status":"open","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:51.856305-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T00:14:51.856305-10:00","dependencies":[{"issue_id":"figma-versioning-jm3.6","depends_on_id":"figma-versioning-jm3","type":"parent-child","created_at":"2026-01-14T00:14:51.857-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-jox","title":"Fix histogram display - bars not visible, broken tooltips","description":"The Recent Activity histogram has display issues:\n\n1. Histogram bars are not visible (section appears blank)\n2. Hovering over the area causes layout jumps\n3. Numbers appear on hover but tooltips are not visible\n\nExpected behavior: Histogram should show colored bars (blue for feedback, orange for nodes changed) with proper tooltips on hover showing commit details (version, title, feedback count, nodes changed).\n\nNeed to diagnose why bars aren't rendering (CSS/styling issue?) and fix tooltip visibility/positioning.","status":"closed","priority":2,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-03T17:30:56.951104-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-03T17:37:22.437011-10:00","closed_at":"2026-02-03T17:37:22.437011-10:00","close_reason":"Closed","labels":["histogram","ui"]}
{"id":"figma-versioning-k4u","title":"Add 'Rebuild Changelog' UI trigger in plugin","description":"Add a button or command in the Figma plugin UI that invokes rebuildChangelog(). Should show progress feedback (e.g. 'Rebuilding changelog... 3/12 entries') and a completion notification. Consider adding it as a secondary action in the version creation panel or as a menu item. Wire up the message handler in main.ts to respond to a REBUILD_CHANGELOG message type from the UI.","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-07T22:39:15.611398-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-07T22:51:56.101381-10:00","closed_at":"2026-02-07T22:51:56.101381-10:00","close_reason":"Added rebuild button to settings with loading state and result messaging","dependencies":[{"issue_id":"figma-versioning-k4u","depends_on_id":"figma-versioning-kjr","type":"blocks","created_at":"2026-02-07T22:39:29.810527-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-kjr","title":"Implement rebuildChangelog() core function","description":"Create a rebuildChangelog() function in the changelog module that: 1) Loads all commits via loadCommits(), 2) Removes the existing 'Changelog Entries' container if present, 3) Re-renders each commit oldest-to-newest using renderChangelogEntry() so newest ends up at index 0, 4) Updates changelogFrameId on each commit and re-saves via saveCommit(), 5) Regenerates the histogram via renderHistogramOnChangelogPage(). Should handle edge cases: empty storage, partial failures mid-rebuild, and already-missing container.","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-07T22:39:12.268992-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-07T22:50:46.565869-10:00","closed_at":"2026-02-07T22:50:46.565869-10:00","close_reason":"Implemented rebuildChangelog() with all utilities and main.ts handler integration"}
{"id":"figma-versioning-lgu","title":"Update commit form to match Figma version history (title + description)","description":"Update commit creation form to match Figma's native version history interface.\n\nChanges needed:\n1. Update Commit interface in types.ts: Add 'title' field (required), rename 'message' to 'description' (optional)\n2. Update ui.tsx form: Add separate title input field and description textarea (match Figma's layout from screenshot)\n3. Update main.ts CREATE_VERSION handler: Receive title and description separately\n4. Research Figma's saveVersionHistoryAsync API to determine if it accepts title and description separately\n5. Update changelog frame-builder.ts: Render title prominently and description below\n6. Add migration logic: Convert existing commits with only 'message' to have title='message' and description=''\n7. Update all TypeScript references from 'message' to 'title'/'description'\n\nBenefits:\n- Matches Figma's native UX\n- Better structure for future LLM integration\n- Clearer separation of commit summary vs details\n\nFiles to modify:\n- packages/core/src/types.ts (Commit interface)\n- packages/figma-plugin/src/ui.tsx (form UI)\n- packages/figma-plugin/src/main.ts (handler)\n- packages/figma-plugin/src/changelog/frame-builder.ts (rendering)","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-15T22:06:52.299217-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-15T22:11:26.498927-10:00","closed_at":"2026-01-15T22:11:26.498927-10:00","close_reason":"Closed"}
{"id":"figma-versioning-ly5","title":"End-to-end testing of changelog rendering","description":"Manual testing: first commit creates page, second reuses page, comments/annotations render conditionally, FigJam theme works, page recreates if deleted, viewport navigation works. Test on small/medium/large files. Success: bundle \u003c10KB, render \u003c500ms, no errors, frames locked, reverse chrono order.","status":"open","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-15T20:50:26.856998-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-15T20:58:58.131916-10:00","dependencies":[{"issue_id":"figma-versioning-ly5","depends_on_id":"figma-versioning-ee3","type":"blocks","created_at":"2026-01-15T20:59:17.734602-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-m47","title":"Phase 4: Commit Management","description":"Create commits with versioning, comment/annotation capture, metrics collection, and data persistence","status":"closed","priority":1,"issue_type":"epic","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:13:25.728195-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T21:07:01.584341-10:00","closed_at":"2026-01-14T21:07:01.584341-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-m47","depends_on_id":"figma-versioning-cz5","type":"blocks","created_at":"2026-01-14T00:15:43.956206-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-m47.1","title":"4.1 Create main plugin UI with commit form","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:37.897326-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T20:41:42.28169-10:00","closed_at":"2026-01-14T20:41:42.28169-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-m47.1","depends_on_id":"figma-versioning-m47","type":"parent-child","created_at":"2026-01-14T00:14:37.89801-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-m47.10","title":"4.10 Add commit message validation (required, max 500 chars)","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:41.618407-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T20:42:47.978835-10:00","closed_at":"2026-01-14T20:42:47.978835-10:00","close_reason":"Already implemented in m47.1 - validation includes required field check and 500 char max","dependencies":[{"issue_id":"figma-versioning-m47.10","depends_on_id":"figma-versioning-m47","type":"parent-child","created_at":"2026-01-14T00:14:41.619083-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-m47.2","title":"4.2 Implement versioning mode selection (semantic vs date-based)","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:38.307641-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T20:44:18.179655-10:00","closed_at":"2026-01-14T20:44:18.179655-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-m47.2","depends_on_id":"figma-versioning-m47","type":"parent-child","created_at":"2026-01-14T00:14:38.308301-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-m47.3","title":"4.3 Implement semantic version auto-increment logic","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:38.710379-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T20:51:27.462051-10:00","closed_at":"2026-01-14T20:51:27.462051-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-m47.3","depends_on_id":"figma-versioning-m47","type":"parent-child","created_at":"2026-01-14T00:14:38.711245-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-m47.4","title":"4.4 Implement date-based version generation with sequence suffix","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:39.112579-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T20:54:28.530665-10:00","closed_at":"2026-01-14T20:54:28.530665-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-m47.4","depends_on_id":"figma-versioning-m47","type":"parent-child","created_at":"2026-01-14T00:14:39.113388-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-m47.5","title":"4.5 Implement comment fetching via Figma REST API","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:39.535665-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T20:56:26.976058-10:00","closed_at":"2026-01-14T20:56:26.976058-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-m47.5","depends_on_id":"figma-versioning-m47","type":"parent-child","created_at":"2026-01-14T00:14:39.536432-10:00","created_by":"Ryan Uesato"},{"issue_id":"figma-versioning-m47.5","depends_on_id":"figma-versioning-3kl","type":"blocks","created_at":"2026-01-14T00:15:45.008659-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-m47.6","title":"4.6 Implement annotation collection via Plugin API (node.annotations)","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:39.932675-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T20:58:29.417657-10:00","closed_at":"2026-01-14T20:58:29.417657-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-m47.6","depends_on_id":"figma-versioning-m47","type":"parent-child","created_at":"2026-01-14T00:14:39.933495-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-m47.7","title":"4.7 Implement node count metrics collection with performance optimizations","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:40.3367-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T21:00:28.261385-10:00","closed_at":"2026-01-14T21:00:28.261385-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-m47.7","depends_on_id":"figma-versioning-m47","type":"parent-child","created_at":"2026-01-14T00:14:40.337686-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-m47.8","title":"4.8 Implement figma.saveVersionHistoryAsync integration","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:40.739812-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T21:01:49.497942-10:00","closed_at":"2026-01-14T21:01:49.497942-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-m47.8","depends_on_id":"figma-versioning-m47","type":"parent-child","created_at":"2026-01-14T00:14:40.740486-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-m47.9","title":"4.9 Implement commit data persistence with chunking strategy","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:41.201504-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-14T21:07:01.439878-10:00","closed_at":"2026-01-14T21:07:01.439878-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-m47.9","depends_on_id":"figma-versioning-m47","type":"parent-child","created_at":"2026-01-14T00:14:41.202244-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-mlg","title":"Investigate and fix slow plugin load on complex Figma documents with long history","description":"## Problem\nThe plugin UI is blocked by severe performance degradation when loading for the first time on complex Figma documents that have a long version history.\n\n## Goal\nMinimize initial loading time so the plugin UI becomes interactive quickly, while still loading complete data. Balance thoroughness with responsiveness.\n\n## Investigation Areas\n- Profile the plugin startup path to identify bottlenecks (history fetching, parsing, rendering)\n- Determine what data is fetched eagerly vs what could be deferred\n- Check if version history is loaded all-at-once or paginated\n- Measure impact of document complexity (node count, page count) on load time\n- Identify any synchronous/blocking operations that could be made async\n\n## Potential Solutions\n- **Lazy loading**: Load recent history first, fetch older entries on demand or in background\n- **Progressive rendering**: Show the UI shell immediately, populate data as it arrives\n- **Pagination / virtual scrolling**: Don't render all history entries at once\n- **Caching**: Cache previously fetched history so subsequent loads are instant\n- **Web worker offloading**: Move heavy parsing/processing off the main thread\n- **Debounce / throttle**: Reduce redundant computations during initial load\n\n## Acceptance Criteria\n- Plugin UI shell renders within ~1-2 seconds even on large documents\n- Full history loads progressively without blocking interaction\n- No regression in data completeness or accuracy","status":"closed","priority":1,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-23T13:36:07.145227-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-23T14:23:36.136783-10:00","closed_at":"2026-02-23T14:23:36.136783-10:00","close_reason":"Quick wins implemented: parallel chunk loading, batched annotation categories, concurrent data collection in CREATE_VERSION and getPreCommitStats. Released in v1.0.2."}
{"id":"figma-versioning-msh","title":"Phase 9: Testing \u0026 Documentation","description":"Unit tests, integration tests, performance testing, user docs, and Figma Community submission","status":"closed","priority":2,"issue_type":"epic","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:13:27.796792-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-08T21:55:19.511226-10:00","closed_at":"2026-02-08T21:55:19.511226-10:00","close_reason":"Completed all testing and documentation tasks. Task msh.4 (Test MCP server) is blocked by Phase 8 (MCP server implementation) which is a post-MVP feature.","dependencies":[{"issue_id":"figma-versioning-msh","depends_on_id":"figma-versioning-j7r","type":"blocks","created_at":"2026-01-14T00:15:50.090333-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-msh.1","title":"9.1 Write unit tests for core package utilities","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:57.095781-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-08T21:34:46.368572-10:00","closed_at":"2026-02-08T21:34:46.368572-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-msh.1","depends_on_id":"figma-versioning-msh","type":"parent-child","created_at":"2026-01-14T00:14:57.096823-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-msh.2","title":"9.2 Write integration tests for commit creation flow","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:57.484429-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-08T21:45:08.114333-10:00","closed_at":"2026-02-08T21:45:08.114333-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-msh.2","depends_on_id":"figma-versioning-msh","type":"parent-child","created_at":"2026-01-14T00:14:57.485119-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-msh.3","title":"9.3 Test plugin in files of varying sizes (small, medium, large)","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:57.929895-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-08T21:45:45.355038-10:00","closed_at":"2026-02-08T21:45:45.355038-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-msh.3","depends_on_id":"figma-versioning-msh","type":"parent-child","created_at":"2026-01-14T00:14:57.930636-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-msh.4","title":"9.4 Test MCP server with Claude Desktop","notes":"Blocked: Requires MCP server implementation (Phase 8: figma-versioning-4gq) to be completed first. Once MCP server is implemented, test with Claude Desktop by: 1) Installing the MCP server, 2) Configuring Claude Desktop, 3) Testing all tools and resources, 4) Verifying changelog queries work correctly.","status":"in_progress","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:58.37006-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-08T21:46:04.674732-10:00","dependencies":[{"issue_id":"figma-versioning-msh.4","depends_on_id":"figma-versioning-msh","type":"parent-child","created_at":"2026-01-14T00:14:58.370805-10:00","created_by":"Ryan Uesato"},{"issue_id":"figma-versioning-msh.4","depends_on_id":"figma-versioning-4gq","type":"blocks","created_at":"2026-02-08T21:46:05.517699-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-msh.5","title":"9.5 Create user documentation for plugin onboarding","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:58.864367-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-08T21:49:19.269426-10:00","closed_at":"2026-02-08T21:49:19.269426-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-msh.5","depends_on_id":"figma-versioning-msh","type":"parent-child","created_at":"2026-01-14T00:14:58.865045-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-msh.6","title":"9.6 Create MCP server setup documentation","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:59.283292-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-08T21:50:53.828403-10:00","closed_at":"2026-02-08T21:50:53.828403-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-msh.6","depends_on_id":"figma-versioning-msh","type":"parent-child","created_at":"2026-01-14T00:14:59.283957-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-msh.7","title":"9.7 Prepare Figma Community submission assets","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-14T00:14:59.672981-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-08T21:55:13.968134-10:00","closed_at":"2026-02-08T21:55:13.968134-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-msh.7","depends_on_id":"figma-versioning-msh","type":"parent-child","created_at":"2026-01-14T00:14:59.673643-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-nb4","title":"Redesign Trend Insights \u0026 Analytics panel to match Figma design","description":"Redesign the Trend Insights \u0026 Analytics canvas section in `trend-visualization.ts` to match the Figma design (node 23:490). The current implementation uses card-style boxes with fills/borders/corner-radius; the new design is flat, clean, and section-based ‚Äî consistent with changelog entry styling.\n\nFigma reference: https://www.figma.com/design/lo3m4RaUflEKapP7AftylE/ito---Design?node-id=23-490\n\n---\n\n## Layout \u0026 Container\n\n- **Remove** the current semi-transparent background fill (`opacity: 0.5`) and `cornerRadius` on the outer container\n- **Remove** the emoji from the title (currently `üìä Trend Insights \u0026 Analytics` ‚Üí just `Trend Insights \u0026 Analytics`)\n- Add a distinct **header section** with `#efefef` background, `pt: 32, pb: 12, px: 24`, title at 24px Bold `#333`\n- Sections are separated by flat spacing and a bottom border on \"File Growth Over Time\" (`#dfdfdf`, 1px), not card boxes\n- All sections use `p: 24` padding (not the current 16px card padding)\n- Section title style: **16px Bold uppercase** `#333` (currently 14px Bold, not uppercase)\n\n---\n\n## File Growth Over Time\n\n- Section has a bottom border `#dfdfdf`\n- Line chart remains; the chart line color should be based on trend (red `#f34444` for shrinking, green `#22be55` for growing, yellow `#ffbb00` for stable)\n- **Add date range row** below the chart: start date on left, end date on right ‚Äî both 13px Medium `#808080`. Use `sorted[0].timestamp` and `sorted[sorted.length - 1].timestamp`, formatted as short date strings\n- Stats row: gap 48px between stat items\n  - Label: **13px Regular uppercase** `#808080` (currently 11px Regular)\n  - Value: **16px Bold** (currently 13px Bold)\n  - Trend value color: matches trend color (red/green/yellow)\n  - Current/Change: `#333`\n  - Avg Rate: `#777`\n\n---\n\n## Project Activity Period\n\n- Remove the card wrapper; render as a flat section with 24px padding and 12px item spacing\n- Period badge text should be **UPPERCASE** (currently mixed-case labels like \"Expansion Phase\" ‚Üí design shows \"MIXED ACTIVITY\")\n- Commits text: 13px Regular `#808080` (unchanged)\n- Breakdown bar segments: no rounded corners on individual segments (currently `cornerRadius: 0` but verify)\n- Legend text: 13px Regular `#333` (currently `colors.text` ‚Äî verify correct)\n\n---\n\n## Top 5 High-Churn Layers\n\n- Remove the card wrapper; render as a flat section with 24px padding\n- Section title: 16px Bold uppercase (currently 14px Bold)\n- Layer name: **16px Medium** `#333` (currently 12px Medium)\n- Stats text: 13px Regular `#808080` (currently 10px Regular)\n- Item gap: 16px (unchanged)\n- Rank badge: `min-w: 32`, rank number **right-aligned** inside badge (currently left-aligned)\n- Layer name separator: the design shows `Page name / Layer name` using ` / ` ‚Äî update `getLayerName` to use ` / ` instead of ` \u003e `\n\n---\n\n## Cleanup\n\n- Remove `createCard` helper usage from all three sections (replace with flat section frames)\n- The `createCard` helper itself can remain or be removed if unused after refactor\n- Remove `createMostActiveNodesChart` function entirely (call already removed, function is dead code)","status":"closed","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-22T21:42:47.296362-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-22T22:07:08.79306-10:00","closed_at":"2026-02-22T22:07:08.79306-10:00","close_reason":"Closed"}
{"id":"figma-versioning-ne0","title":"Fix annotation properties showing keys instead of values in canvas changelog","description":"In the canvas changelog, annotation parameters are displaying property keys instead of their values. For example, 'Font size' should show a value like '14', but it's showing 'fontSize' instead. This affects the readability and usefulness of the changelog annotations.","status":"closed","priority":2,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-10T23:54:49.873811-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T00:03:28.283961-10:00","closed_at":"2026-02-11T00:03:28.283961-10:00","close_reason":"Closed"}
{"id":"figma-versioning-nnw","title":"Add fallback read from sharedPluginData when clientStorage is empty","description":"Phase 2: Modify loadCommits() to fall back to reading from figma.root.getSharedPluginData() when clientStorage returns no chunks. If sharedPluginData has commits, restore them to clientStorage and return them. This handles the case where a user reinstalls the plugin or opens the file on a new machine.","status":"closed","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-07T22:39:22.799717-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-08T22:20:56.805396-10:00","closed_at":"2026-02-08T22:20:56.805396-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-nnw","depends_on_id":"figma-versioning-ivw","type":"blocks","created_at":"2026-02-07T22:39:30.196956-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-p60","title":"Plan: Dynamic changelog rebuild from commit history","description":"Research and plan how to dynamically rebuild the changelog if entries on the Figma canvas are accidentally deleted. Determine what data sources are available, whether external storage is needed, and design the rebuild strategy.","notes":"## Analysis Complete\n\n### Three Data Layers\n1. **clientStorage** ‚Äî Full Commit objects (comments, annotations, metrics, title, description, author, timestamp, changelogFrameId)\n2. **Canvas frames** ‚Äî Visual rendering on the Changelog page (read-only display)\n3. **Figma version history** ‚Äî Just a string: 'version - title'\n\n### Rebuild Feasibility by Scenario\n- **Canvas frames deleted, clientStorage intact** ‚Üí FULL rebuild possible\n- **clientStorage cleared, canvas intact** ‚Üí PARTIAL (fragile text parsing)\n- **Both deleted** ‚Üí MINIMAL (version history titles + re-fetched comments, but lose grouping)\n\n### Recommendation\nPhase 1: Rebuild from clientStorage (simple, covers primary use case)\nPhase 2: Redundant storage via sharedPluginData (resilience)","status":"closed","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-07T21:58:05.261408-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-07T22:39:35.608781-10:00","closed_at":"2026-02-07T22:39:35.608781-10:00","close_reason":"Planning complete ‚Äî broke into 6 implementation tasks across 2 phases"}
{"id":"figma-versioning-q84","title":"Fix: Trend Insights panel renders as individual layers with no charts or metrics","description":"## Problem\nThe 'Trend Insights...' panel is rendering as a bunch of individual layers instead of showing charts and metrics.\n\n## Symptoms\n- Panel shows raw/individual layers instead of rendered UI components\n- No charts visible\n- No metrics shown\n\n## Steps to Reproduce\nTBD\n\n## Expected Behavior\nTrend Insights panel should display charts and metrics correctly.\n\n## Root Cause\nUnknown ‚Äî needs investigation.","notes":"ROOT CAUSE FOUND: chartFrame in createFileGrowthChart (trend-visualization.ts:219) incorrectly used layoutMode='VERTICAL' (Auto Layout). This caused ellipse data points to stack vertically below the vector line instead of being positioned at their absolute x/y chart coordinates. Bug introduced in 96d7689 (redesign commit). The b9a2b4c fix only reordered resize() calls and didn't catch this issue.\n\nFIX APPLIED:\n1. Removed layoutMode='VERTICAL', primaryAxisSizingMode='AUTO', counterAxisSizingMode='FIXED' from chartFrame so it uses default layoutMode='NONE' (absolute positioning). Children (vector line + ellipse points) now render at their calculated x/y coordinates.\n2. Added guard for commits.length \u003c 2 to prevent division-by-zero NaN in x coordinate calculation when only 1 commit exists.\n\nBuild verified clean.","status":"closed","priority":1,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-24T21:30:24.673322-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-25T08:13:46.843134-10:00","closed_at":"2026-02-25T08:13:46.843134-10:00","close_reason":"Closed"}
{"id":"figma-versioning-qfd","title":"Security \u0026 Vulnerability Review: API Security \u0026 Rate Limiting","description":"Review Figma REST API usage, error handling, rate limiting, and secure data transmission","status":"open","priority":1,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-11T12:23:32.953009-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T12:23:32.953009-10:00"}
{"id":"figma-versioning-qry","title":"Format large numbers with commas in Trend Insights panel","description":"Large numbers in the Trend Insights panel (layer counts, etc.) are displayed without thousands separators. For example, '1921 layers' should be formatted as '1,921 layers'. All numeric values in the trend insights rendering should use locale-aware number formatting (toLocaleString or equivalent).","status":"closed","priority":3,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-25T00:51:46.864068-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-25T00:53:34.9817-10:00","closed_at":"2026-02-25T00:53:34.9817-10:00","close_reason":"Implemented formatNumber helper with toLocaleString, applied to all 5 number display sites in trend-visualization.ts"}
{"id":"figma-versioning-qwg","title":"Display annotation properties in changelog","description":"Implement OpenSpec change proposal: display-annotation-properties\n\nShow all pinned annotation properties (fills, width, fontSize, etc.) in the changelog with human-readable labels and formatted values.\n\nOpenSpec proposal: openspec/changes/display-annotation-properties/","status":"closed","priority":2,"issue_type":"epic","owner":"ruesato@gmail.com","created_at":"2026-01-16T22:25:34.677624-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-17T22:38:32.923837-10:00","closed_at":"2026-01-17T22:38:32.923837-10:00","close_reason":"All implementation tasks complete: property label mapping (59 properties), value formatting (all types), annotation rendering (dual-path extraction), comprehensive documentation (PROPERTY_MAPPING.md), and manual testing guide (TESTING_GUIDE.md). Ready for manual testing."}
{"id":"figma-versioning-rq2","title":"Add click-to-navigate for changelog entries","description":"Add click interaction to changelog items:\n- Comments: click navigates to the comment's referenced node\n- Annotations: click navigates to the annotated layer\n- Visual feedback on hover (if possible in Figma)\n- Handle cases where node no longer exists","status":"closed","priority":3,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-05T17:21:30.427665-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-05T17:59:15.804672-10:00","closed_at":"2026-02-05T17:59:15.804672-10:00","close_reason":"Added click-to-navigate hyperlinks to comment and annotation layer references","dependencies":[{"issue_id":"figma-versioning-rq2","depends_on_id":"figma-versioning-1nt","type":"blocks","created_at":"2026-02-05T17:21:37.380595-10:00","created_by":"Ryan Uesato"},{"issue_id":"figma-versioning-rq2","depends_on_id":"figma-versioning-e7h","type":"blocks","created_at":"2026-02-05T17:21:37.542777-10:00","created_by":"Ryan Uesato"},{"issue_id":"figma-versioning-rq2","depends_on_id":"figma-versioning-2ct","type":"blocks","created_at":"2026-02-05T17:21:37.70316-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-t6t","title":"Fix: Trend Insights panel items rendering at page root instead of inside container","description":"## Problem\nThe 'Trend Insights \u0026 Analytics' panel is broken. Items that should be children of the 'Trend Insights' frame are instead sitting at the root layer of the Changelog page, causing all elements to stack at the same origin with no charts or metrics visible.\n\n## Symptoms\n- Charts (line chart, period timeline, high-churn list) are not visible\n- Metrics are not visible\n- In the Figma layers panel, section frames (File Growth Over Time, Project Activity Period, Top N High-Churn Layers) appear as top-level page children rather than nested inside the 'Trend Insights' container frame\n- All misplaced frames overlap at the same canvas origin (0,0 or similar)\n\n## Root Cause (hypothesis)\n`createTrendInsightsSection` is async and calls `container.appendChild()` for each section. Something is preventing the appendChild calls from running or succeeding, leaving the container empty and the sections as page-level orphans. Candidates:\n- A runtime error thrown before or during appendChild (e.g. unsupported API call on enterprise Figma Desktop)\n- An async boundary issue with `figma.getNodeByIdAsync` inside `createHighChurnList` changing plugin state between awaits\n- The `figma.currentPage` not being set to the Changelog page before frame creation, causing frames to be created on the wrong page\n\n## What Was Tried (this session)\n- Removed `layoutMode = 'VERTICAL'` from `chartFrame` (chart area needs absolute positioning) ‚Äî did not fix root issue\n- Switched all frames to `layoutSizingVertical = 'HUG'` ‚Äî likely threw on enterprise Figma, made things worse (container appeared completely empty)\n- Switched container to `layoutMode = 'NONE'` with manual y-offset positioning ‚Äî reverted, not committed\n- All changes from this session were reverted; codebase is back at v1.0.5 (commit 19fc0aa)\n\n## Files\n- `packages/figma-plugin/src/changelog/trend-visualization.ts` ‚Äî main file to fix\n- `packages/figma-plugin/src/changelog/page-manager.ts` ‚Äî may need to set currentPage before frame creation\n\n## Next Steps\n1. Add console.log / error trapping around each `container.appendChild()` call to find where it's failing\n2. Investigate whether `figma.currentPage` needs to be set to the Changelog page before creating frames\n3. Consider whether `await figma.getNodeByIdAsync` inside the async loop is causing issues","status":"closed","priority":1,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-24T22:30:19.138346-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-24T22:51:38.391787-10:00","closed_at":"2026-02-24T22:51:38.391787-10:00","close_reason":"Fixed: Root cause was synchronous vectorNetwork assignment incompatible with documentAccess: dynamic-page. Changed to await setVectorNetworkAsync() which is required for dynamic-page mode. This was causing the plugin to crash when creating the file growth chart, leaving the container empty."}
{"id":"figma-versioning-t8c","title":"Fix: Figma Desktop caches plugin code by ID, preventing beta updates from loading","description":"## Problem\nFigma Desktop aggressively caches compiled plugin code keyed by the manifest plugin ID. When a development plugin is removed and reimported with updated files but the same ID, Figma serves the cached (old) code instead of reading from disk. This prevents any bug fixes from reaching remote testers.\n\n## Discovery\n- v1.0.4-beta.1 through beta.3 all showed identical error character positions (2:24706, 2:28196) proving the same old code was running\n- Added a version banner console.log as the very first line of plugin init in beta.3 ‚Äî it never appeared in the remote console\n- Removing the dev plugin, restarting Figma Desktop, and reimporting did NOT clear the cache\n\n## Root cause\nbuild-figma-plugin reads plugin config from package.json (not manifest.json). The source manifest.json is just a reference file. Previous beta builds were created by editing manifest.json but the build tool ignored those changes and used the stale package.json config.\n\nAdditionally, even when the dist is correct, Figma Desktop caches by plugin ID and does not invalidate on file changes.\n\n## Fix applied\n- beta.4: Changed plugin ID to figma-versioning-beta in package.json so Figma treats it as a new plugin with no cache\n- Plugin now shows as Figma Versioning (Beta) ‚Äî separate entry from any cached version\n- Added version banner: [Init] Plugin version: 1.0.4-beta.3\n\n## Key learning\nFor the build pipeline: the source of truth for plugin metadata is package.json under the figma-plugin key, NOT manifest.json. The manifest.json in the project root is only used as a template.\n\n## Status\nAwaiting confirmation that beta.4 loads correctly on enterprise Figma Desktop.\n\n## Related\n- Parent bug: figma-versioning-ba5\n- Performance issue: figma-versioning-09z","notes":"ROOT CAUSE FOUND: The release.yml workflow triggers on tags matching v*.*.*. When gh release create creates a tag like v1.0.4-beta.4, GitHub Actions runs the release workflow which checks out code from main (where our fixes were never pushed), rebuilds from the OLD code, and OVERWRITES the manually uploaded release zip. This is why every beta had identical old code despite local verification showing correct files. The local zip MD5 differs from the GitHub zip MD5, proving GitHub Actions overwrote the asset. Fix: merge fixes to main and use the standard release pipeline, or use tag patterns that dont trigger the workflow.","status":"closed","priority":1,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-24T00:59:22.123949-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-24T21:29:23.554457-10:00","closed_at":"2026-02-24T21:29:23.554457-10:00","close_reason":"Closed"}
{"id":"figma-versioning-tdk","title":"Improve UI based on Figma design","description":"## Overview\n\nUpdate the plugin UI to match the new Figma design while preserving all existing functionality.\n\n## Design Reference\n\nFigma URL: https://www.figma.com/design/lo3m4RaUflEKapP7AftylE/ito---Design?node-id=1-467\u0026t=ckwtjzPBAgwE2fy2-11\n\n## Design Changes\n\nThe new design includes:\n\n1. **Recent Activity Section**:\n   - Histogram visualization showing last 50 commits\n   - Orange (#ff6800) and blue (#0885fe) bars indicating different commit types\n   - Interactive bars that allow viewing changelog entries\n   - Caption: \"Last 50 commits. Select a bar to view its changelog entry.\"\n\n2. **Create Commit Form**:\n   - Title field with character counter (0/100)\n   - Description field (optional, 500 characters remaining)\n   - Version type dropdown with options:\n     - Major - Breaking changes (X.0.0)\n     - Minor - New features (0.X.0)\n     - Patch - Bug fixes (0.0.X)\n\n3. **Actions**:\n   - Primary button: \"Create version 1.0.52\" (blue #008ff0)\n   - Settings button (circular icon)\n\n4. **Styling**:\n   - Background: #2c2c2c\n   - Fields: #383838\n   - Typography: Inter font family\n   - Rounded corners throughout (8px, 16px, 32px)\n   - Clean, modern dark theme\n\n## Requirements\n\n- MUST preserve all existing functionality\n- Update UI to match Figma design exactly\n- Maintain all current features and capabilities\n- Ensure interactive elements (histogram bars) work as expected\n\n## Implementation Tasks\n\n- [ ] Update component structure to match new design\n- [ ] Implement histogram visualization\n- [ ] Update form fields with proper styling\n- [ ] Add character counters\n- [ ] Update buttons and actions\n- [ ] Apply color scheme and typography\n- [ ] Test all existing functionality still works","status":"closed","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-04T22:16:52.095744-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-05T00:18:46.378007-10:00","closed_at":"2026-02-05T00:18:46.378007-10:00","close_reason":"Updated plugin UI to match Figma design with new histogram colors, form styling, dropdown for version type, and gear icon settings button"}
{"id":"figma-versioning-ubs","title":"Security \u0026 Vulnerability Review: Data Storage \u0026 Privacy","description":"Review clientStorage, sharedPluginData usage, and user data privacy considerations","status":"open","priority":1,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-11T12:23:31.07231-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T12:23:31.07231-10:00"}
{"id":"figma-versioning-uij","title":"Fix annotation 'category' not displaying on canvas changelog entries","status":"closed","priority":2,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-11T11:14:24.744216-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T11:23:00.302997-10:00","closed_at":"2026-02-11T11:23:00.302997-10:00","close_reason":"Closed","comments":[{"id":5,"issue_id":"figma-versioning-uij","author":"Ryan Uesato","text":"still not seeing the category rendered in the canvas changelog entries. see screenshot","created_at":"2026-02-11T21:22:20Z"}]}
{"id":"figma-versioning-uxb","title":"Security \u0026 Vulnerability Review: Manifest \u0026 Permissions","description":"Review manifest.json permissions, enablePrivatePluginApi, and plugin security configuration","status":"open","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-11T12:23:34.60366-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T12:23:34.60366-10:00"}
{"id":"figma-versioning-vc6","title":"Document annotation property mapping","description":"Update documentation for annotation property display\n\nSub-tasks:\n- Update code comments in frame-builder.ts\n- Document property mapping conventions\n\nDepends on: figma-versioning-7cv\nPart of: figma-versioning-qwg","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-16T22:26:05.16766-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-16T22:47:10.458128-10:00","closed_at":"2026-01-16T22:47:10.458128-10:00","close_reason":"Closed","dependencies":[{"issue_id":"figma-versioning-vc6","depends_on_id":"figma-versioning-7cv","type":"blocks","created_at":"2026-01-16T22:26:12.112863-10:00","created_by":"Ryan Uesato"}]}
{"id":"figma-versioning-vgj","title":"Bug: Semantic version sorting incorrect (v1.0.12 before v1.0.2)","description":"Changelog entries are sorted lexicographically instead of semantically. v1.0.3 \u003c v1.0.2 \u003c v1.0.1 \u003c v1.0.12 \u003c v1.0.11 instead of proper semantic version order. Need to use proper semver comparison.","status":"closed","priority":0,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-07T23:19:04.678411-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-07T23:21:30.163671-10:00","closed_at":"2026-02-07T23:21:30.163671-10:00","close_reason":"Fixed with compareVersions() utility that parses semantic versions numerically"}
{"id":"figma-versioning-vnr","title":"Fix changelog diff inconsistencies - use timestamps instead of fingerprint matching","description":"## Problem\n\nChangelog entries show inconsistent diffs:\n\n1. If a previous changelog entry has 0 comments/annotations (no elements changed, but entry created anyway), the next entry includes ALL elements from the beginning of the file\n2. Current implementation uses fingerprint matching to filter elements, which doesn't handle this case correctly\n3. This behavior is confusing - elements reappear even though they haven't changed\n\n## Root Cause\n\n- filterNewComments() and filterNewAnnotations() use fingerprint matching against previous commit's elements\n- When previous commit has empty comments/annotations, ALL elements match as new\n- Comments have timestamps but we're not using them for filtering\n- Annotations don't have timestamps, so fingerprint is the only current option\n\n## Solution\n\n1. Comments: Use timestamp-based filtering\n   - Only include comments created AFTER previous commit timestamp\n   - Also handle edited comments (if Figma API provides modification time)\n   \n2. Annotations: Add timestamp to Annotation type\n   - Check if Figma Plugin API provides annotation modification timestamps\n   - If available, use timestamp-based filtering like comments\n   - If not available, keep fingerprint-based filtering but handle 0-entry case\n\n3. Empty commits: Allow but fix the diffing logic\n   - Continue allowing commits with 0 comments/annotations\n   - Fix filtering to handle case where previous commit had 0 elements\n\n## Technical Approach\n\n- Update filterNewComments() to use timestamp comparison instead of fingerprints\n- Check Figma API for node.annotations timestamp availability\n- If timestamps available for annotations, update Annotation type in packages/core/src/types.ts\n- If not available, add special handling for empty previous commit case in filterNewAnnotations()\n\n## Files to Modify\n\n- packages/figma-plugin/src/main.ts - filterNewComments(), filterNewAnnotations() functions\n- packages/core/src/types.ts - Annotation interface (if adding timestamp)","status":"tombstone","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-03T00:43:07.340351-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-03T00:46:36.240364-10:00","close_reason":"Closed","deleted_at":"2026-02-03T00:46:36.240364-10:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"figma-versioning-vyh","title":"Fix: Reverse changelog entry order in rebuild","description":"The rebuilt changelog has entries in the wrong order. Latest should be leftmost (nearest histogram), but currently oldest is leftmost. Need to fix the insertion logic in rebuildChangelog().","status":"closed","priority":1,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-07T23:05:36.382405-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-07T23:06:39.795814-10:00","closed_at":"2026-02-07T23:06:39.795814-10:00","close_reason":"Fixed sort order: now sorts newest-first and appends for correct leftmost positioning"}
{"id":"figma-versioning-wip","title":"Update Trend Insights: hide duplicate 'Most Active Layers' and add page name to High-Churn Layers","description":"In the 'Trend Insights \u0026 Analytics' canvas section (trend-visualization.ts):\n\n1. **Remove 'Top 5 Most Active Layers' chart** ‚Äî it uses the same data as High-Churn Layers and is a duplicate. Remove the `createMostActiveNodesChart` call from `createTrendInsightsSection`.\n\n2. **Update High-Churn Layers list** ‚Äî each layer entry should display the page name alongside the layer name, formatted as:\n   `[pageName] \u003e [layerName]`\n\n   Implementation notes:\n   - In `getLayerName` (or a new helper), also resolve the parent page for the node. Walk up the node's parent chain until reaching a `PageNode` to get the page name.\n   - Update `createHighChurnList` to display the combined label.\n   - If the node is deleted/not found, fall back to the existing truncated ID format (no page prefix needed).","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-22T21:27:55.442672-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-22T21:30:58.24055-10:00","closed_at":"2026-02-22T21:30:58.24055-10:00","close_reason":"Closed"}
{"id":"figma-versioning-wmi","title":"Phase 2.2: Add trend analysis and insights","description":"## Goal\nCompute trend insights from existing commit history without storing additional data.\n\n## Analytics to Implement\n1. **File growth over time**: node count trend, average growth rate\n2. **Most active pages**: churn rate, commits affected\n3. **Frame churn rate**: modifications per day, hotspot frames\n4. **Period classification**: expansion vs. cleanup vs. stable periods\n\n## Implementation\n1. Create analytics functions that operate on commit arrays:\n   - analyzeFileGrowth(commits)\n   - analyzeMostActivePages(commits, lastN)\n   - analyzeFrameChurn(commits)\n   - classifyPeriods(commits)\n2. Compute on-demand (not stored in commits)\n3. Add to changelog UI as expandable section\n4. Cache results for performance\n\n## Performance\n- Estimated: +50-500ms depending on commit history size\n- Compute on-demand, not during commit creation\n\n## Storage\n- None (computed from existing data)\n\n## Reference\n- Research: docs/enhanced-changelog-research.md, Section 5\n- Code examples provided in research doc","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-02-10T20:04:01.639131-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T00:53:06.451435-10:00","closed_at":"2026-02-11T00:53:06.451435-10:00","close_reason":"Closed"}
{"id":"figma-versioning-y35","title":"Bug: Annotation properties showing keys instead of values","description":"## Problem\nAnnotation properties in changelog entries are displaying property keys instead of actual values.\n\n### Current Behavior\nShows keys like:\n- Height ‚Üí **height** (should be: 14px or actual value)\n- Width ‚Üí **width** (should be: actual value)\n- Stroke Weight ‚Üí **strokeWeight** (should be: actual value)\n- Strokes ‚Üí **strokes** (should be: actual value)\n\n### Expected Behavior\nShould display the actual property values from the node, not the property names/keys.\n\n### Example\nInstead of:\n\n\nShould show:\n\n\n### Root Cause\nThe property value formatting utility is likely returning the key name instead of extracting the actual value from the node.\n\n### Files to Check\n- \n-  (annotation rendering)\n- Property value extraction logic in analytics or annotations processing","status":"closed","priority":2,"issue_type":"bug","owner":"ruesato@gmail.com","created_at":"2026-02-11T10:53:43.254828-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T11:07:15.177467-10:00","closed_at":"2026-02-11T11:07:15.177467-10:00","close_reason":"Fixed by cherry-picking commit 11871c0 which reads property values from the actual node instead of from the annotation object"}
{"id":"figma-versioning-ypn","title":"Show dev status changes in changelog entries","description":"Changelog entries rendered on the Figma canvas should display which layers have had their dev status changed.\n\nTrack the following status transitions:\n- Layers marked as READY FOR DEV\n- Layers taken out of READY FOR DEV\n- Layers marked as COMPLETED\n\nFormat each entry as:\n[pageName] / [layerName]: [statusChange]\n\nThis gives designers and developers visibility into which components are ready for handoff or have been completed directly from the changelog panel.","status":"closed","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-22T23:23:31.943701-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-22T23:30:57.002563-10:00","closed_at":"2026-02-22T23:30:57.002563-10:00","close_reason":"Implemented dev status change tracking in changelog entries"}
{"id":"figma-versioning-zg7","title":"Security \u0026 Vulnerability Review: Documentation \u0026 Best Practices","description":"Document security findings, create security guidelines, and update documentation with security best practices","status":"open","priority":3,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-11T12:23:36.65223-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-11T12:23:36.65223-10:00"}
{"id":"figma-versioning-zks","title":"Property value formatting utility","description":"Create utility to format property values for display\n\nSub-tasks:\n- Create utility function to format property values for display\n- Handle different value types (colors, numbers, strings, objects)\n- Format units appropriately (px, %, etc.)\n- Add tests for value formatting\n\nPart of: figma-versioning-qwg","status":"closed","priority":2,"issue_type":"task","owner":"ruesato@gmail.com","created_at":"2026-01-16T22:25:46.367982-10:00","created_by":"Ryan Uesato","updated_at":"2026-01-16T22:39:17.904009-10:00","closed_at":"2026-01-16T22:39:17.904009-10:00","close_reason":"Closed"}
{"id":"figma-versioning-zx4","title":"Update changelog entry UI to match Figma design","description":"Update the changelog entry frames rendered on the Figma canvas to match the Figma design at node 8:577.\n\nReference: https://www.figma.com/design/lo3m4RaUflEKapP7AftylE/ito---Design?node-id=8-577\n\n## Files to Modify\n- `packages/figma-plugin/src/changelog/frame-builder.ts`\n- `packages/figma-plugin/src/changelog/theme.ts` (if color tokens need updating)\n\n## Design Specs\n\n### Overall Card Container\n- White background\n- Border: 1px solid `#e6e6e6`\n- Border radius: 8px\n- Overflow: clip\n- Bottom padding: 32px\n- Width: 600px\n\n### Header Section (`data-name=\"header\"`)\n- Background: `#efefef`\n- Padding: top 32px, horizontal 24px, bottom 12px\n- Vertical flex, gap 12px between sub-sections\n- Inner width: 568px (600 - 2*16 padding... but design shows 568px content width)\n\n**Version line (headline):**\n- Font: Inter Bold, 24px\n- \"Version\" text: color `#777777`\n- Version number (e.g. \"1.0.51\"): color `#333333`\n- Both in the same text node with mixed fills\n\n**Author/timestamp line:**\n- Font: Inter Regular, 12px, color `#777777`\n- Format: `\"{name} ‚Ä¢ {date}\"`\n\n**Title:**\n- Font: Inter Bold, 16px, color `#333333`\n\n**Description:**\n- Font: Inter Regular, 13px, color `#777777`\n\n### Section Dividers\n- Each section separated by: 1px solid `#e0e0e0` top border\n- Section padding: 24px on all sides\n- Gap between items within section: 8px\n\n### Section Headers (PAGES CHANGED / COMMENTS / ANNOTATIONS)\n- Label: Inter SemiBold, 16px, UPPERCASE, color `#777777`\n- Header row: flex horizontal, gap 8px, items-center, vertical padding 8px\n- Badge pill:\n  - Background colors:\n    - Pages Changed: `#9966e5` (purple)\n    - Comments: `#fa4f0b` (orange)\n    - Annotations: `#345ccc` (blue)\n    - Dev Status: `#11a066` (green)\n  - Padding: horizontal 8px, vertical 2px\n  - Border radius: 16px (pill shape)\n  - Text: Inter Medium, 12px, white\n\n### Pages Changed Section\n- Rendered as a card: background `#efefef`, padding 16px, border-radius 8px\n- Entries list: gap 12px, bottom padding 12px\n- **Per entry:**\n  - Page name: Inter Medium, 12px, `#1a1a1a`\n  - Stats line: Inter Regular, 11px, `#777777`\n    - Format: `\"+{added} added ‚Ä¢ {modified} modified ‚Ä¢ Net change: +{net}\"`\n    - \"Net change: +N\" portion: color `#007a25` (green)\n\n### Comment Items\n- Vertical flex, gap 4px between sub-rows\n- Bottom padding: 16px per item\n- Width: 552px (section width 600 - 2*24 padding)\n\n**Sub-rows:**\n1. Author line: Inter Regular, 11px, `#777777`\n   - Format: `\"{name} ‚Ä¢ {date}\"`\n2. Comment body: Inter Medium, 12px, `#1a1a1a`\n3. Reply-to preview *(if reply)*: Inter Regular, 11px, `#777777`\n   - Format: `\"Reply to: {truncated parent text}\"`\n   - **Single-line truncation** with ellipsis (overflow hidden, whitespace nowrap, text-ellipsis)\n4. Node reference: Inter Regular, 10px, `#777777`\n   - Format: `\"Node: {nodeId}\"`\n\n### Annotation Items\n- Vertical flex, gap 4px\n- Bottom padding: 16px per item\n- Width: 552px\n\n**Sub-rows:**\n1. Title: Inter SemiBold, 16px, `#333333`\n   - If annotation is pinned, show pin emoji after label: `\"label üìå\"`\n2. Property rows (font family, style, size, weight, line height, letter spacing, fills):\n   - Horizontal flex, gap 8px, items-center\n   - Label: Inter Regular, 10px, `#808080`, fixed width 88px\n   - Value: Inter Medium, 10px, `#333333`\n\n## Constants to Update\n```\nFRAME_WIDTH = 600\nPADDING = 24          // was 16 ‚Äî update section padding\nHEADER_PADDING_TOP = 32\nHEADER_PADDING_BOTTOM = 12\nSECTION_SPACING = 12  // gap within sections\nITEM_SPACING = 8      // gap between section items\nLABEL_WIDTH = 88      // for property column (unchanged)\nITEM_BOTTOM_PADDING = 16  // for comment/annotation items\nCARD_BORDER_RADIUS = 8\nCARD_BORDER_COLOR = { r: 0.902, g: 0.902, b: 0.902 }  // #e6e6e6\nSECTION_DIVIDER_COLOR = { r: 0.878, g: 0.878, b: 0.878 }  // #e0e0e0\n```\n\n## Badge Colors (update theme.ts if needed)\n- pagesChangedBadge: `#9966e5`\n- commentsBadge: `#fa4f0b` (already exists)\n- annotationsBadge: `#345ccc` (already exists)\n- devStatusBadge: `#11a066` (already exists)\n\n## Key Behavioral Notes\n- Reply-to text must truncate at 1 line with ellipsis (currently may wrap)\n- \"Version\" prefix in headline must be styled differently from the version number (mixed text color)\n- Header background (#efefef) extends full width of card; content sections use white background\n- All sections except header have a 1px #e0e0e0 top divider\n- Pages Changed section uses a nested card with its own #efefef background","status":"in_progress","priority":2,"issue_type":"feature","owner":"ruesato@gmail.com","created_at":"2026-02-25T08:09:21.364831-10:00","created_by":"Ryan Uesato","updated_at":"2026-02-25T11:03:56.340594-10:00","dependencies":[{"issue_id":"figma-versioning-zx4","depends_on_id":"figma-versioning-cc3","type":"blocks","created_at":"2026-02-25T11:05:43.829943-10:00","created_by":"Ryan Uesato"}]}
